<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sphoorthy Masa - Senior UX Researcher</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        :root { --hue: 100; }

       body{
  font-family:'Inter',sans-serif;
  color:#0f172a;

  /* Fresh Blue ‚ÄúSkyglass‚Äù */
  background:
    radial-gradient(1200px 800px at 12% -10%, rgba(150, 205, 255, .35), transparent 60%),
    radial-gradient(900px 600px at 110% 5%,  rgba(173, 236, 255, .35), transparent 60%),
    radial-gradient(700px 520px at 50% 115%, rgba(255, 255, 255, .92), transparent 70%),
    conic-gradient(from 220deg at 70% 20%, #f7fbff 0%, #ecf6ff 24%, #e7f9ff 48%, #f6fbff 72%, #ffffff 100%);
  background-attachment: fixed;

  /* subtle paper/grain for depth */
  position: relative;
  isolation: isolate; /* ensure ::before sits under content */
}
body::before{
  content:"";
  position: fixed;
  inset:0;
  z-index:-1;
  pointer-events:none;
  opacity:.06;
  background-image:
    url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='80' height='80' viewBox='0 0 80 80'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='2' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/fi lter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.7'/%3E%3C/svg%3E");
  background-size: 140px 140px;
}

        /* --- (kept) Media carousel styles used by other projects --- */
        .media-carousel{position:relative;width:100%}
        .media-track{display:flex;gap:.75rem;overflow-x:auto;padding:.5rem 2.75rem;scroll-snap-type:x mandatory;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;mask-image:linear-gradient(90deg,transparent 0,#000 32px,#000 calc(100% - 32px),transparent 100%);overscroll-behavior-x:contain}
        .media-item{position:relative;min-width:clamp(220px,28vw,380px);aspect-ratio:16/9;border-radius:14px;overflow:hidden;scroll-snap-align:center;background:rgba(255,255,255,0.5);border:1px solid rgba(0,0,0,0.06);transition:transform .25s ease,box-shadow .25s ease}
        .media-item:hover{transform:scale(1.06);z-index:2;box-shadow:0 12px 40px rgba(0,0,0,.18)}
        .media-img{width:100%;height:100%;object-fit:cover;display:block}
        .media-cap{position:absolute;left:10px;bottom:10px;padding:6px 10px;font-size:12px;color:#0f172a;background:rgba(255,255,255,.7);border:1px solid rgba(0,0,0,.08);border-radius:999px;backdrop-filter:blur(6px) saturate(140%)}
        .media-nav{position:absolute;top:50%;transform:translateY(-50%);width:38px;height:38px;border-radius:9999px;display:grid;place-items:center;background:rgba(255,255,255,0.7);color:#0f172a;border:1px solid rgba(0,0,0,0.1);cursor:pointer;z-index:5;transition:background .2s ease,transform .2s ease;backdrop-filter:blur(8px) saturate(160%)}
        .media-nav:hover{background:rgba(255,255,255,0.9);transform:translateY(-50%) scale(1.05)}
        .media-nav:disabled{opacity:.45;cursor:not-allowed}
        .media-nav.prev{left:6px}
        .media-nav.next{right:6px}

        /* --- NEW: Single-image stage + Fullscreen Lightbox (for Guide) --- */
        .media-viewer{position:relative;width:100%;max-width:1100px;margin-inline:auto}
        .media-stage{position:relative;width:100%;aspect-ratio:16/9;border-radius:16px;overflow:hidden;background:rgba(255,255,255,.6);border:1px solid rgba(0,0,0,.08);display:grid;place-items:center}
        .media-stage img{width:100%;height:100%;object-fit:contain;cursor:zoom-in;user-select:none;-webkit-user-drag:none}
        .media-controls{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;padding:.75rem;pointer-events:none}
        .media-btn{pointer-events:auto;width:42px;height:42px;display:grid;place-items:center;border-radius:9999px;background:rgba(255,255,255,.85);border:1px solid rgba(0,0,0,.1);color:#0f172a;cursor:pointer;transition:transform .15s ease,background .15s ease,opacity .15s ease;backdrop-filter:blur(8px) saturate(160%)}
        .media-btn:hover{transform:scale(1.06);background:#fff}
        .media-btn:disabled{opacity:.4;cursor:not-allowed}
        .media-meta{margin-top:.6rem;display:flex;align-items:center;justify-content:space-between;gap:.75rem;color:#334155}
        .media-pager{font-variant-numeric:tabular-nums;opacity:.85}

        .lightbox{position:fixed;inset:0;z-index:9999;display:none;background:rgba(9,12,16,.75);backdrop-filter:blur(6px) saturate(140%)}
        .lightbox.open{display:grid}
        .lightbox-inner{position:relative;width:min(96vw,1400px);height:min(92vh,860px);margin:auto;display:grid;grid-template-rows:1fr auto;gap:.75rem}
        .lightbox-stage{position:relative;width:100%;height:100%;border-radius:16px;overflow:hidden;background:#0b1020;display:grid;place-items:center;border:1px solid rgba(255,255,255,.15)}
        .lightbox-stage img{width:100%;height:100%;object-fit:contain;user-select:none;-webkit-user-drag:none}
        .lightbox-controls{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;padding:1rem;pointer-events:none}
        .lightbox-btn{pointer-events:auto;width:46px;height:46px;border-radius:9999px;display:grid;place-items:center;background:rgba(255,255,255,.9);border:1px solid rgba(0,0,0,.15);color:#0f172a;cursor:pointer;transition:transform .15s ease,background .15s ease;backdrop-filter:blur(8px) saturate(160%)}
        .lightbox-btn:hover{transform:scale(1.06);background:#fff}
        .lightbox-topbar{display:flex;justify-content:space-between;align-items:center;color:#e5e7eb;font-size:.95rem}
        .lightbox-topbar .close{width:42px;height:42px;border-radius:9999px;display:grid;place-items:center;background:rgba(255,255,255,.88);color:#0f172a;border:1px solid rgba(0,0,0,.12);cursor:pointer;transition:transform .15s ease,background .15s ease}
        .lightbox-topbar .close:hover{transform:scale(1.06);background:#fff}

        #bg-canvas{position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0;display:block}
        .content-container{position:relative;z-index:1}
        .font-script{font-family:'Great Vibes',cursive}

        .panel{background:rgba(255,255,255,0.22);backdrop-filter:blur(12px) saturate(180%);-webkit-backdrop-filter:blur(12px);border-radius:20px;border:1px solid rgba(255,255,255,0.35);box-shadow:0 4px 12px 0 rgba(0,0,0,0.08), inset 0 0 0.5px rgba(255,255,255,0.6);transition:box-shadow .3s ease}
        .panel:hover{box-shadow:0 8px 32px 0 rgba(0,0,0,0.37)}

        header{transition:transform .4s ease-out}
        header.hidden{transform:translateY(-120%)}
        .reveal{opacity:0;transform:translateY(50px);transition:opacity .8s ease-out,transform .8s ease-out}
        .reveal.visible{opacity:1;transform:translateY(0)}

        /* --- Project Tile Layout Styles --- */
        #project-carousel-container{position:relative;overflow:hidden;width:100%;height:350px}
        #project-list{display:flex;flex-direction:column;gap:2rem;transition:transform .5s ease-in-out;width:100%}
        .project-tile{position:relative;cursor:pointer;overflow:hidden;background-size:cover;background-position:center;height:350px;display:flex;align-items:flex-end;transition:transform .3s ease-in-out,box-shadow .3s ease-in-out;border-radius:20px;flex-shrink:0;width:100%}
        .project-tile:hover{transform:translateY(-8px);box-shadow:0 10px 40px rgba(0,0,0,0.5)}
        .project-tile::before{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:linear-gradient(to top,rgba(5,5,5,0.9) 0%,rgba(5,5,5,0.1) 100%);z-index:1}
        .project-tile-content{position:relative;z-index:2;padding:2rem;color:black;text-align:left;width:100%}

        .project-details-container{overflow:hidden;transition:max-height .7s ease-in-out,padding .5s ease-in-out;padding:0 2rem;border-top:1px solid transparent;position:relative}
        .project-details-container.expanded{max-height:2500px;padding:2rem;border-top:1px solid rgba(255,255,255,0.1)}

        .metric-card{background:rgba(255,255,255,0.05);border-radius:12px;padding:1.5rem;text-align:center}
        .metric-card-value{font-size:2.5rem;line-height:1;font-weight:800;color:#a3e635}
        .metric-card-label{font-size:.9rem;color:#d1d5db}

        .details-tabs button{padding:.5rem 1rem;font-weight:600;color:#9ca3af;border-radius:8px;transition:background-color .3s,color .3s,box-shadow .3s,border-color .3s;border:1px solid transparent}
        .details-tabs button.active{background-color:rgba(255,255,255,0.1);color:black;box-shadow:0 0 20px -3px rgba(163,230,53,0.4);border-color:rgba(163,230,53,0.4)}
        .tab-content{display:none}
        .tab-content.active{display:block;animation:fadeIn .5s ease}
        @keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}

        .stat-card{background:rgba(0,0,0,0.2);border-left:4px solid #84cc16;padding:1rem;border-radius:8px;text-align:center;display:flex;flex-direction:column;justify-content:center}
        .stat-card .stat-number{font-size:2.25rem;font-weight:800;color:#a3e635;line-height:1}
        .stat-card .stat-description{font-size:.875rem;margin-top:.5rem}

        .insight-card{background:rgba(0,0,0,0.2);padding:1rem 1.5rem;border-radius:8px;border:1px solid rgba(255,255,255,0.1)}

        .testimonial-scroller{max-width:1200px;margin:auto;overflow:hidden;-webkit-mask:linear-gradient(90deg,transparent,black 20%,black 80%,transparent);mask:linear-gradient(90deg,transparent,black 20%,black 80%,transparent)}
        .scroller-inner{display:flex;gap:1.5rem;width:max-content;animation:scroll 90s linear infinite}
        .testimonial-scroller:hover .scroller-inner{animation-play-state:paused}
        .testimonial-card{width:380px;height:250px}
        @keyframes scroll{to{transform:translateX(calc(-50% - .75rem))}}

        .tag-badge{background-color:rgba(163,230,53,0.2);color:#a3e635;font-size:.75rem;font-weight:500;padding:.25rem .75rem;border-radius:9999px;border:1px solid rgba(163,230,53,0.4)}

        .main-container{max-width:1200px}
        .skills-grid{display:grid;grid-template-columns:repeat(1,minmax(0,1fr));gap:2rem}
        @media (min-width:768px){.skills-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
        @media (min-width:1024px){.skills-grid{grid-template-columns:repeat(3,minmax(0,1fr))}}

        .skills-card{background:rgba(17,24,39,0.4);border-radius:12px;padding:2rem;border:1px solid rgba(255,255,255,0.1);position:relative;display:flex;flex-direction:column;align-items:flex-start}
        .skills-card h4{font-size:1.5rem;font-weight:700;color:#a3e635;margin-bottom:1rem}
        .skills-card p{color:#d1d5db;font-size:.9rem;line-height:1.5}
        .skills-card strong{font-weight:bold;color:#a3e635}

        .methodology-container{display:grid;grid-template-columns:1fr;gap:1.5rem}
        .methodology-item{background:rgba(17,24,39,0.4);border-radius:12px;padding:1.5rem;border:1px solid rgba(255,255,255,0.1);position:relative}
        .methodology-item h5{font-weight:700;font-size:1.125rem;color:#a3e635;margin-bottom:.5rem}
        .methodology-item p{font-size:.875rem;color:#d1d5db}
        .divider{height:2rem;width:1px;background-color:rgba(255,255,255,0.1);margin:0 auto}
        @media (min-width:768px){.methodology-container{grid-template-columns:repeat(2,1fr);gap:2rem}}

        /* Horizontal expansion styles */
        #portfolio{display:flex;flex-direction:column;gap:2rem;transition:flex-direction .5s ease-in-out}
        @media (min-width:1024px){#portfolio{flex-direction:row;align-items:flex-start}}
        #project-list-container{width:100%;transition:width .5s ease-in-out;flex-shrink:0}
        @media (min-width:1024px){
          #project-list-container{flex-basis:40%;width:auto}
          #project-list-container.expanded{flex-basis:35%}
        }

        #project-details-expanded{width:100%;max-height:0;opacity:0;transition:all .5s ease-in-out;transform:translateX(50px);padding:0}
        #project-details-expanded.visible{max-height:2500px;opacity:1;transform:translateX(0);padding:2rem 0 0 0}
        @media (min-width:1024px){
          #project-details-expanded{flex-grow:1;width:auto;padding:0 0 0 2rem}
          #project-details-expanded.visible{padding:0 0 0 2rem}
        }

        #project-carousel-controls{display:flex;justify-content:center;align-items:center;gap:1rem;margin-top:1rem}
        .carousel-button{background:rgba(255,255,255,0.1);color:black;padding:.5rem;border-radius:9999px;cursor:pointer;transition:background-color .3s}
        .carousel-button:hover{background:rgba(255,255,255,0.2)}
        .carousel-button:disabled{opacity:.4;cursor:not-allowed;background-color:rgba(255,255,255,0.1)}

        @keyframes pulse{0%,100%{transform:scale(1) rotate(0deg)}50%{transform:scale(1.1) rotate(5deg)}}
        .background-leaf{position:absolute;opacity:.15;filter:drop-shadow(0 0 5px rgba(163,230,53,.5));animation:pulse 5s infinite ease-in-out;color:#a3e635}
    </style>
</head>
<body class="antialiased">
    <!-- WebGL Canvas Background -->
    <canvas id="bg-canvas"></canvas>

    <div class="content-container">
        <header class="container mx-auto px-6 py-4 fixed top-4 left-1/2 -translate-x-1/2 w-full max-w-7xl z-30">
            <div class="panel flex justify-between items-center p-4">
                <h1 class="text-4xl font-script text-black">Sphoorthy Masa</h1>
                <nav class="hidden md:flex space-x-8 text-base font-medium items-center text-black-200">
                    <a href="#portfolio" class="hover:text-lime-400 transition-colors">Portfolio</a>
                    <a href="#about" class="hover:text-lime-400 transition-colors">About</a>
                    <a href="#skills" class="hover:text-lime-400 transition-colors">Skills</a>
                    <a href="#why-me-contact" class="hover:text-lime-400 transition-colors">Contact</a>
                </nav>
            </div>
        </header>

        <main class="container mx-auto px-6 py-12 pt-32 relative z-10 main-container">
            <section id="hero-section" class="text-center py-20 reveal">
                <h2 class="5xl md:text-7xl font-extrabold text-black leading-tight">Senior UX Researcher</h2>
                <p class="text-xl md:text-2xl mt-4 text-black-300 max-w-3xl mx-auto">Bringing <span class="text-lime-400 font-semibold">clarity to complexity</span> through user-centric insights that drive product strategy and business growth.</p>
            </section>

            <section id="portfolio" class="py-12 reveal">
                 <div class="absolute inset-0 z-0 hidden lg:block">
                    <!-- Futuristic glyphs -->
                    <svg class="background-leaf" width="120" height="120" style="top: 24%; left: 50%;" viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="50" cy="50" r="20" opacity="0.9"/>
                        <ellipse cx="50" cy="50" rx="34" ry="20" transform="rotate(18 50 50)" opacity="0.7"/>
                        <ellipse cx="50" cy="50" rx="34" ry="20" transform="rotate(-22 50 50)" opacity="0.6"/>
                        <circle cx="70" cy="50" r="2.5" />
                        <circle cx="38" cy="62" r="2" />
                    </svg>
                    <svg class="background-leaf" width="96" height="96" style="top: 36%; left: 65%; animation-delay: 2s; animation-duration: 6s;" viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="50,10 80,27 80,63 50,80 20,63 20,27" opacity="0.9"/>
                        <line x1="50" y1="10" x2="50" y2="80" opacity="0.6"/>
                        <line x1="20" y1="27" x2="80" y2="63" opacity="0.6"/>
                        <line x1="80" y1="27" x2="20" y2="63" opacity="0.6"/>
                    </svg>
                    <svg class="background-leaf" width="108" height="108" style="top: 50%; left: 75%; animation-delay: 4s; animation-duration: 7s;" viewBox="0 0 100 100" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                        <polygon points="50,8 82,26 82,62 50,80 18,62 18,26" opacity="0.9"/>
                        <polyline points="50,8 50,44 82,62" opacity="0.6"/>
                        <polyline points="50,44 18,62" opacity="0.6"/>
                    </svg>
                    <svg class="background-leaf" width="130" height="130" style="top: 66%; left: 33%; animation-delay: 1s; animation-duration: 5.5s;" viewBox="0 0 120 120" fill="none" stroke="currentColor" stroke-width="1.2" stroke-linecap="round" stroke-linejoin="round">
                        <circle cx="24" cy="28" r="3"/>
                        <circle cx="96" cy="30" r="3"/>
                        <circle cx="84" cy="86" r="3"/>
                        <circle cx="32" cy="90" r="3"/>
                        <circle cx="60" cy="58" r="2.5"/>
                        <line x1="24" y1="28" x2="60" y2="58" />
                        <line x1="96" y1="30" x2="60" y2="58" />
                        <line x1="32" y1="90" x2="60" y2="58" />
                        <line x1="84" y1="86" x2="60" y2="58" />
                        <line x1="24" y1="28" x2="32" y2="90" opacity="0.5"/>
                        <line x1="96" y1="30" x2="84" y2="86" opacity="0.5"/>
                    </svg>
                 </div>
                <div class="relative z-10 flex flex-col lg:flex-row gap-8 items-start">
                    <div id="project-list-container">
                        <div id="project-carousel-container">
                            <div id="project-list"></div>
                        </div>
                        <div id="project-carousel-controls" class="mt-8">
                            <button id="prev-project-btn" class="carousel-button" disabled>
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 15l7-7 7 7" />
                                </svg>
                            </button>
                            <button id="next-project-btn" class="carousel-button">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div id="project-details-expanded"></div>
                </div>
            </section>

            <section id="about" class="py-12 reveal">
                <div class="panel p-12">
                    <div class="grid md:grid-cols-5 gap-12 items-center">
                        <div class="md:col-span-3">
                            <h3 class="text-3xl font-bold text-black mb-4">About Me</h3>
                            <div class="text-lg text-black-300 space-y-4">
                                <p>Hello, I'm Sphoorthy, a Senior UX Researcher with over a decade of experience turning ambiguous questions into sharp insights that address both user pain points and business strategy.</p>
                                <p>Most recently, I led UX Research at Sling TV, where I worked across product areas such as onboarding, content discovery, and interactive experiences. My goal is to help product, design, and engineering teams build experiences people love using.</p>
                            </div>
                        </div>
                        <div class="md:col-span-2">
                            <h4 class="text-xl font-bold text-black mb-4">Core Competencies</h4>
                            <div class="flex flex-wrap gap-3">
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">User Interviews</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Survey Design</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Journey Mapping</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Usability Testing</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">A/B Testing</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Data Analysis</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Prototyping</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Usability Testing</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Quantitative Analysis</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Strategic Planning</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Mentoring</span>
                                <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Design Thinking</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section id="skills" class="py-12 reveal">
                <div class="panel p-12">
                    <div class="text-center mb-8">
                        <h3 class="text-4xl font-bold text-black">Skills & Expertise</h3>
                        <p class="text-lg text-black-400 mt-2">A comprehensive look at my research methodologies, tools, and frameworks.</p>
                    </div>
                    <div class="flex flex-col md:flex-row gap-8">
                        <div class="flex-1 p-6 bg-black-800/50 rounded-xl border border-black-700/50">
                            <h4 class="text-2xl font-semibold text-black mb-4">Research Methodologies</h4>
                            <div class="space-y-4">
                                <div>
                                    <h5 class="text-lg font-bold text-black mb-2">Quantitative Research Methods</h5>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="tag-badge">Surveys</span>
                                        <span class="tag-badge">A/B Testing</span>
                                        <span class="tag-badge">Competitive Analysis</span>
                                        <span class="tag-badge">Data Analysis</span>
                                        <span class="tag-badge">First-click Testing</span>
                                        <span class="tag-badge">Heat Maps</span>
                                    </div>
                                </div>
                                <div>
                                    <h5 class="text-lg font-bold text-black mb-2">Qualitative Research Methods</h5>
                                    <div class="flex flex-wrap gap-2">
                                        <span class="tag-badge">User Interviews</span>
                                        <span class="tag-badge">Usability testing</span>
                                        <span class="tag-badge">User Observations</span>
                                        <span class="tag-badge">Card Sorting</span>
                                        <span class="tag-badge">Contextual Interviews</span>
                                        <span class="tag-badge">Focus Groups</span>
                                        <span class="tag-badge">Heuristic Evaluation</span>
                                        <span class="tag-badge">Journey mapping</span>
                                        <span class="tag-badge">Personas</span>
                                        <span class="tag-badge">Ethnography</span>
                                        <span class="tag-badge">Stakeholder Interviews</span>
                                        <span class="tag-badge">Competitor Analysis</span>
                                        <span class="tag-badge">Pop-up Studies</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="flex-1 p-6 bg-black-800/50 rounded-xl border border-black-700/50">
                            <h4 class="text-2xl font-semibold text-black mb-4">Tools & Software</h4>
                            <div class="flex flex-wrap gap-2">
                                <span class="tag-badge">UserZoom</span>
                                <span class="tag-badge">UserTesting</span>
                                <span class="tag-badge">User Interviews</span>
                                <span class="tag-badge">Qualtrics</span>
                                <span class="tag-badge">Airtable</span>
                                <span class="tag-badge">Quantum Metric</span>
                                <span class="tag-badge">Figma</span>
                                <span class="tag-badge">Hotjar</span>
                                <span class="tag-badge">Dovetail</span>
                                <span class="tag-badge">Lookback</span>
                                <span class="tag-badge">SurveyMonkey</span>
                            </div>

                            <h4 class="text-2xl font-semibold text-black mt-8 mb-4">UX Metrics</h4>
                            <div class="flex flex-wrap gap-2">
                                <span class="tag-badge">System Usability Scale (SUS)</span>
                                <span class="tag-badge">UMUX-Lite</span>
                                <span class="tag-badge">Usability Metrics</span>
                                <span class="tag-badge">Task Success Rate</span>
                                <span class="tag-badge">Time-on-Task</span>
                                <span class="tag-badge">User Error Rate</span>
                                <span class="tag-badge">Task Satisfaction</span>
                                <span class="tag-badge">Test Satisfaction</span>
                            </div>

                            <h4 class="text-2xl font-semibold text-black mt-8 mb-4">Process & Frameworks</h4>
                            <div class="flex flex-wrap gap-2">
                                <span class="tag-badge">Agile</span>
                                <span class="tag-badge">Waterfall</span>
                                <span class="tag-badge">Dual-track Agile</span>
                                <span class="tag-badge">Jobs To Be Done (JTBD)</span>
                                <span class="tag-badge">Lean UX</span>
                                <span class="tag-badge">Design Thinking</span>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <section id="why-me-contact" class="py-12 reveal">
                <div class="panel p-12 flex flex-col md:flex-row items-center gap-12">
                    <div class="md:w-1/2 text-left">
                        <h3 class="text-3xl font-bold text-black mb-4">Why Me?</h3>
                        <div class="text-lg text-black-300 space-y-4 max-w-prose">
                            <p>Good research doesn't just inform. It transforms how teams think, build, and connect with their users. I focus on turning insights into action and action into impact.</p>
                            <p class="font-semibold text-2xl mt-6 text-black">User insights shouldn't be boring. And neither should your researcher.</p>
                        </div>
                    </div>
                    <div class="md:w-px h-full bg-black/10 md:block hidden"></div>
                    <div class="md:w-1/2 text-center">
                        <h3 class="text-4xl font-bold text-black mb-4">Let's Build Something Meaningful</h3>
                        <p class="text-lg text-black-300 mb-8">If you're building a team where research plays a strategic role, I'd love the opportunity to contribute.</p>
                        <a href="mailto:sphoorthy.masa@example.com" class="inline-block font-bold py-4 px-10 text-lg bg-lime-400 text-black-900 rounded-lg shadow-lg transition hover:bg-lime-300">Get In Touch</a>
                    </div>
                </div>
            </section>
            
            <section id="testimonials" class="py-12 reveal">
                <div class="text-center pb-12"><h3 class="text-4xl font-bold text-black">Testimonials</h3></div>
                <div id="testimonial-scroller" class="testimonial-scroller"></div>
            </section>
        </main>

        <footer class="text-center py-6"><p class="text-black-400">&copy; 2019 Sphoorthy Masa. All Rights Reserved.</p></footer>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        /* ========== WebGL Background (unchanged) ========== */
     <!-- === WebGL Background: Aurora (drop-in) === -->
<script>
(function(){
  const canvas = document.getElementById('bg-canvas');
  if(!canvas){ console.warn('No #bg-canvas found'); return; }

  // THREE setup
  let renderer, scene, camera, mesh, start = performance.now();
  const uniforms = {
    uTime:         { value: 0.0 },
    uResolution:   { value: new THREE.Vector2(window.innerWidth, window.innerHeight) },
    uQuietCenter:  { value: new THREE.Vector2(0.0, 0.15) }, // NDC -1..1
    uQuietRadius:  { value: 0.55 },                         // 0..1
    uIntensity:    { value: 1.0 },                          // global strength
    uTintA:        { value: new THREE.Color(0x22d3ee) },    // cyan
    uTintB:        { value: new THREE.Color(0xa78bfa) },    // violet
    uBase:         { value: new THREE.Color(0x0a0f1e) }     // deep navy
  };

  const vertexShader = `
    varying vec2 vUv;
    void main(){
      vUv = uv;
      gl_Position = vec4(position, 1.0);
    }
  `;

  const fragmentShader = `
    precision highp float;
    varying vec2 vUv;

    uniform float uTime;
    uniform vec2  uResolution;
    uniform vec2  uQuietCenter; // -1..1
    uniform float uQuietRadius;
    uniform float uIntensity;
    uniform vec3  uTintA;
    uniform vec3  uTintB;
    uniform vec3  uBase;

    // lightweight value noise + fbm
    float hash(vec2 p){ return fract(sin(dot(p, vec2(127.1,311.7))) * 43758.5453123); }
    float noise(vec2 p){
      vec2 i = floor(p);
      vec2 f = fract(p);
      float a = hash(i);
      float b = hash(i + vec2(1.0,0.0));
      float c = hash(i + vec2(0.0,1.0));
      float d = hash(i + vec2(1.0,1.0));
      vec2 u = f*f*(3.0-2.0*f);
      return mix(a,b,u.x) + (c-a)*u.y*(1.0-u.x) + (d-b)*u.x*u.y;
    }
    float fbm(vec2 p){
      float v = 0.0;
      float a = 0.5;
      for(int i=0;i<5;i++){
        v += a * noise(p);
        p *= 2.0;
        a *= 0.5;
      }
      return v;
    }

    void main(){
      // normalized coords (0..1), screen-space (-1..1)
      vec2 uv = vUv;
      vec2 s = uv*2.0 - 1.0;

      // flow field / aurora bands
      float t = uTime * 0.06;
      // gentle rotation & stretch
      mat2 R = mat2(cos(0.25), -sin(0.25), sin(0.25), cos(0.25));
      vec2 p1 = R * (uv * vec2(3.2, 1.8) + vec2(0.0, t));
      vec2 p2 = R * (uv * vec2(2.0, 2.6) - vec2(0.0, t*0.8));

      float a1 = fbm(p1) ;
      float a2 = fbm(p2 + 3.14159);

      // soft bands (0..1), with subtle wave
      float band1 = smoothstep(0.35, 0.85, a1 + 0.15*sin(uv.y*8.0 - t*3.0));
      float band2 = smoothstep(0.30, 0.90, a2 + 0.10*cos(uv.x*10.0 + t*2.5));

      // color mix
      vec3 col = uBase;
      col = mix(col, uTintA, band1 * 0.55);
      col = mix(col, uTintB, band2 * 0.55);

      // vignette to keep edges calm
      float vig = smoothstep(1.2, 0.2, length(s));
      col *= mix(0.85, 1.0, vig);

      // "quiet zone" behind hero: fade intensity toward dark near center
      float d = distance(s, uQuietCenter);
      float quiet = smoothstep(uQuietRadius, uQuietRadius*0.6, d); // 0 at center -> 1 outside
      col = mix(col * 0.28, col, quiet); // darker near text

      // overall intensity + subtle fog for depth
      float fog = smoothstep(0.0, 0.9, uv.y);
      col = mix(col, uBase, 0.10 * (1.0 - fog));

      gl_FragColor = vec4(col, clamp(0.85 * uIntensity * quiet, 0.0, 0.9));
    }
  `;

  function init(){
    scene = new THREE.Scene();
    camera = new THREE.OrthographicCamera(-1,1,1,-1,0,1);
    renderer = new THREE.WebGLRenderer({ canvas, antialias:true, alpha:true });
    renderer.setPixelRatio(Math.min(2, window.devicePixelRatio || 1));
    renderer.setSize(window.innerWidth, window.innerHeight);

    const geo = new THREE.PlaneGeometry(2,2);
    const mat = new THREE.ShaderMaterial({
      uniforms, vertexShader, fragmentShader, transparent:true, depthTest:false
    });
    mesh = new THREE.Mesh(geo, mat);
    scene.add(mesh);

    animate();
    onResize();
    window.addEventListener('resize', onResize, false);
    window.addEventListener('scroll', updateQuietZone, { passive:true });
  }

  function animate(){
    uniforms.uTime.value = (performance.now() - start) * 0.001;
    renderer.render(scene, camera);
    requestAnimationFrame(animate);
  }

  function onResize(){
    const w = window.innerWidth, h = window.innerHeight;
    renderer.setSize(w, h);
    uniforms.uResolution.value.set(w, h);
    updateQuietZone();
  }

  // Position the quiet zone where the hero text actually is
  function updateQuietZone(){
    const hero = document.getElementById('hero-section');
    if(!hero) return;
    const rect = hero.getBoundingClientRect();
    const cx = (rect.left + rect.width/2) / window.innerWidth;   // 0..1
    const cy = (rect.top + rect.height*0.42) / window.innerHeight;
    const sx = cx*2 - 1;
    const sy = (1.0 - cy)*2 - 1;
    uniforms.uQuietCenter.value.set(sx, sy);

    // radius based on hero size, clamped
    const r = Math.max(rect.width/window.innerWidth, rect.height/window.innerHeight) * 0.75;
    uniforms.uQuietRadius.value = Math.min(0.8, Math.max(0.25, r));
  }

  // Optional: theme-driven tint (call this if you switch themes)
  window.__setAuroraTint = function(hexA, hexB){
    uniforms.uTintA.value.setHex(hexA);
    uniforms.uTintB.value.setHex(hexB);
  };

  init();
})();
</script>
<!-- === End WebGL Background: Aurora === -->

        /* ========== End WebGL ========== */

        const header=document.querySelector('header');
        let lastScrollTop=0;
        window.addEventListener('scroll',()=>{
            let st=window.pageYOffset||document.documentElement.scrollTop;
            if(st>lastScrollTop&&st>100){header.classList.add('hidden');}
            else if(st<100){header.classList.remove('hidden');}
            lastScrollTop=st<=0?0:st;
        },false);

        const observer=new IntersectionObserver((entries)=>{
            entries.forEach(entry=>{ if(entry.isIntersecting) entry.target.classList.add('visible'); });
        },{threshold:0.1});
        document.querySelectorAll('.reveal').forEach(el=>observer.observe(el));
        
        /* ================= Projects ================= */
        const projects=[
            { 
                id:'guide',
                title:"Reinventing The TV Guide",
                hook:"A strategic research initiative to unify user experiences across two major platforms, turning a point of friction into a driver for engagement and revenue.",
                outcome:"~$7.46M Estimated Annual Impact",
                tags:['Strategic Research','Data-Driven Insights','Business Impact'],
                images:["https://images.unsplash.com/photo-1616428784112-2544265780d6?q=80&w=2070&auto=format&fit=crop"],
                content:{
                    metrics:[
                        {value:"~$7.46M",label:"Estimated Annual Value Impact"},
                        {value:"90%",label:"Target Task Success Rate"},
                        {value:"12%",label:"Reduction in CX Complaints"}
                    ],
                    overview:`<div class="text-left space-y-6"><div><h5 class="font-bold text-black text-lg">Background</h5><p class="text-black-300 mt-1">The guide sits at the heart of content discovery, but had evolved in parallel across Sling TV and Dish TV, creating fragmented experiences.</p></div><div><h5 class="font-bold text-black text-lg">The Challenge</h5><p class="text-black-300 mt-1">How can we unify the guide experience to enhance usability and personalization without alienating loyal users on two very different platforms?</p></div><div><h5 class="font-bold text-black text-lg">Key Objectives</h5><ul class="list-disc list-inside pl-4 space-y-2 mt-2"><li>Identify user frustrations and unmet needs across both platforms.</li><li>Uncover shared pain points to guide a unified design strategy.</li><li>Deliver actionable recommendations that balance user needs and business goals.</li></ul></div></div>`,
                    methodology:`<h4>My Research Process & Tools</h4><div class="methodology-container mt-6">
                        <div class="methodology-item">
                            <h5>1. Discovery & Planning</h5>
                            <p>Stakeholder Interviews, Data Analysis, and Defining Project Scope.</p>
                            <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">UserZoom</span><span class="tag-badge">Google Analytics</span><span class="tag-badge">JIRA</span></div>
                        </div>
                        <div class="methodology-item">
                            <h5>2. Generative Research</h5>
                            <p>In-depth User Interviews to uncover behaviors and motivations.</p>
                            <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">User Interviews</span><span class="tag-badge">Lookback</span><span class="tag-badge">Google Meet</span></div>
                        </div>
                        <div class="methodology-item">
                            <h5>3. Synthesis & Ideation</h5>
                            <p>Mapping insights and collaborating with design and product teams.</p>
                            <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">Miro</span><span class="tag-badge">Figma</span></div>
                        </div>
                        <div class="methodology-item">
                            <h5>4. Validation & Delivery</h5>
                            <p>Usability Testing and Handoff to Engineering teams.</p>
                            <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">UserTesting.com</span><span class="tag-badge">Figma Prototypes</span><span class="tag-badge">Confluence</span></div>
                        </div>
                    </div>`,
                    analysis:`<h4>Target Audience & Segments</h4><div class="flex flex-col md:flex-row gap-4 mt-4 text-left"><div class="flex-1 p-4 bg-black/20 rounded-lg border border-black/10"><h5 class="font-bold text-black">DISH TV Subscribers (65+)</h5><p class="text-sm text-black-300">Tolerate outdated UI but struggle with hidden features; often have accessibility needs.</p></div><div class="flex-1 p-4 bg-black/20 rounded-lg border border-black/10"><h5 class="font-bold text-black">Sling TV Subscribers (~35)</h5><p class="text-sm text-black-300">Tech-savvy, expect fast, intuitive interfaces and quick content access.</p></div></div><h4 class="mt-8">Key Quantitative Insights</h4><div class="grid md:grid-cols-2 gap-4 mt-4 text-black-300 text-left"><div class="insight-card"><h5>1. High Engagement, Low Conversion</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li><b>Sling TV:</b> 79% engagement &rarr; 56% playback</li><li><b>DISH TV:</b> 86% engagement &rarr; 48% playback</li></ul><p class="text-sm text-lime-200">üîç Insight: Strong adoption, but poor discoverability leads to drop-offs.</p></div><div class="insight-card"><h5>2. Underutilized Features</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li>73% of sessions used the default "ALL" filter.</li><li>"Favorites" users had a 64% playback rate vs. 55% for others.</li></ul><p class="text-sm text-lime-200">üîç Insight: Personalization improves engagement but is underused.</p></div><div class="insight-card"><h5>3. High Drop-Offs in Short Sessions</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li>44% of Sling guide sessions ended without playback.</li><li>Most of these non-playback sessions lasted &lt;20 seconds.</li></ul><p class="text-sm text-lime-200">üîç Insight: Users abandon quickly, suggesting poor content surfacing.</p></div><div class="insight-card"><h5>4. Habitual Navigation (DISH)</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li>46% of users navigated vertically by habit.</li><li>Only 8% used faster horizontal navigation by time.</li></ul><p class="text-sm text-lime-200">üîç Insight: Users may not be aware of more efficient navigation options.</p></div></div>`,
                    results:`<p class="text-center text-lg">The research insights directly led to iterative design improvements, validating each solution through rigorous testing to ensure it met user needs and business goals.</p><h4 class="mt-8">Financial Impact</h4><div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4 text-black-300"><div class="stat-card"><div class="stat-number">~$5.83M</div><div class="stat-description">from Increased Retention</div></div><div class="stat-card"><div class="stat-number">~$1.94M</div><div class="stat-description">from Feature Upsells</div></div><div class="stat-card"><div class="stat-number">~$193k</div><div class="stat-description">from Ad Revenue</div></div><div class="stat-card"><div class="stat-number">~$63k</div><div class="stat-description">from Ops Savings</div></div></div>`,
                    /* >>> NEW single-image stage + lightbox <<< */
                    media: `
                      <h4 class="text-xl font-bold text-slate-900">Media</h4>
                      <div class="media-viewer mt-3" data-media='${JSON.stringify(
                        Array.from({length:16},(_,i)=>`images/Guide/${i+1}.png`)
                      )}'>
                        <div class="media-stage">
                          <img alt="Guide 1" />
                          <div class="media-controls">
                            <button class="media-btn prev" aria-label="Previous">&#10094;</button>
                            <button class="media-btn next" aria-label="Next">&#10095;</button>
                          </div>
                        </div>
                        <div class="media-meta">
                          <div class="media-caption">Guide 1</div>
                          <div class="media-pager"><span class="cur">1</span> / <span class="total">16</span></div>
                        </div>
                      </div>
                      <p class="mt-4 text-sm text-center text-slate-600">
                        Click the image to view full-screen. Use ‚Üê ‚Üí keys to navigate. Press ESC to close.
                      </p>
                    `
                }
            },
            {
                id:'gundersen',
                title:"Gundersen Pharmacy",
                hook:"Streamlining prescription refills by empowering patients and reducing manual work for pharmacy staff, resulting in significant cost savings and improved patient satisfaction.",
                outcome:"Achieved 12,334+ Active App Users within 6 months.",
                tags:['Workflow Analysis','Adoption Strategy','Usability Testing'],
                images:["https://images.unsplash.com/photo-1588720490792-26f5053ae81e?q=80&w=2070&auto=format&fit=crop"],
                content:{
                    metrics:[
                        { value:"12,334+", label:"Active App Users" },
                        { value:"36%", label:"Refill Volume through App" },
                        { value:"$702k+", label:"Annual Labor Cost Savings" }
                    ],
                    overview:`<div class="text-left space-y-6">
                        <div>
                            <h5 class="font-bold text-black text-lg">Background</h5>
                            <p class="text-black-300 mt-1">The pharmacy app was designed to simplify and modernize the prescription refill experience. It aimed to reduce the repetitive, manual burden on pharmacists and empower patients with self-service medication management.</p>
                        </div>
                        <div>
                            <h5 class="font-bold text-black text-lg">Research Goals</h5>
                            <ul class="list-disc list-inside pl-4 space-y-2 mt-2">
                                <li><b>Boost Adoption:</b> Achieve 10,000+ active app users within 6 months.</li>
                                <li><b>Drive Prescription Orders:</b> Convert 25% of monthly refills (11,250 orders) through the app.</li>
                                <li><b>Automate Communications:</b> Deliver 10,000+ refill reminders & status messages monthly.</li>
                                <li><b>Reduce Staff Burden:</b> Decrease pharmacist time spent on refill calls by 50%, and reduce medical staff back-and-forth.</li>
                                <li><b>Cost Optimization:</b> Recover up to $1M/year in lost labor time.</li>
                            </ul>
                        </div>
                    </div>`,
                    methodology:`<div class="space-y-6">
                        <p class="text-sm text-black-300">Our research was a blend of qualitative and quantitative methods to understand both the user experience and the internal workflow challenges.</p>
                        <h4 class="font-bold text-black text-lg mb-2">Manual Workflow </h4>
                        <p class="text-sm text-black-300">The manual process was time-consuming and inefficient. Pharmacists spent an average of 3.5 minutes per refill, totaling over 2,600 hours/month, which translated to significant lost labor time.</p>
                        <div class="methodology-container mt-4">
                            <div class="methodology-item">
                                <h5>1. Workflow & Stakeholder Analysis</h5>
                                <p>Interviews with pharmacists, RNs, and MAs to map the manual refill process.</p>
                                <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">Stakeholder Interviews</span><span class="tag-badge">Process Mapping</span></div>
                            </div>
                            <div class="methodology-item">
                                <h5>2. Usability & Heuristic Evaluation</h5>
                                <p>Tested the existing app with both patients and staff to identify pain points and opportunities.</p>
                                <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">Heuristic Analysis</span><span class="tag-badge">Usability Testing</span></div>
                            </div>
                            <div class="methodology-item">
                                <h5>3. Discovery & Synthesis</h5>
                                <p>Uuncovered a key problem: most patients were unaware the app existed. This shifted our focus from product improvement to a marketing and awareness strategy.</p>
                                <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">Patient Interviews</span><span class="tag-badge">Journey Mapping</span></div>
                            </div>
                        </div>
                    </div>`,
                    analysis:`<div class="space-y-8">
                        <div>
                            <h4 class="font-bold text-black text-lg mb-4">Key Insights from Analysis</h4>
                            <div class="grid md:grid-cols-2 gap-4 mt-4 text-left">
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Minimalist UI & High Usability</h5>
                                    <p class="text-sm text-black-300">The app's core functionality was clear, allowing users to refill prescriptions with ease. <b>Task success rate was 95%.</b></p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Unexpected Awareness Gap</h5>
                                    <p class="text-sm text-black-300">A major finding: many patients were simply <b>unaware the app existed.</b> This shifted our focus from product improvement to a marketing and awareness strategy.</p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Low Emotional Engagement</h5>
                                    <p class="text-sm text-black-300">A SUS Score of 78 indicated solid usability but highlighted a <b>lack of emotional engagement</b> due to the app's basic visual design.</p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Automated Communications</h5>
                                    <p class="text-sm text-black-300">The system lacked features to reduce the repetitive, manual burden on pharmacists and their outbound calls.</p>
                                </div>
                            </div>
                        </div>
                    </div>`,
                    results:`<div class="space-y-8">
                        <p class="text-center text-lg text-black-300">Our research led to a strategic awareness campaign that directly addressed the adoption problem and produced significant business impact.</p>
                        <h4 class="font-bold text-black text-lg">Key Outcomes</h4>
                        <div class="overflow-x-auto relative rounded-lg border border-black/10 mt-4">
                            <table class="w-full text-sm text-left text-black-400">
                                <thead class="text-xs text-black-2 00 uppercase bg-black-800/50">
                                    <tr>
                                        <th scope="col" class="py-3 px-6 text-center">Metric</th>
                                        <th scope="col" class="py-3 px-6 text-center">Outcome</th>
                                        <th scope="col" class="py-3 px-6 text-center">Target</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-black-900/40 border-b border-black-700">
                                        <th scope="row" class="py-4 px-6 font-medium text-black blackspace-nowrap">Active App Users</th>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">12,334</td>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">10,000+</td>
                                    </tr>
                                    <tr class="bg-black-900/40 border-b border-black-700">
                                        <th scope="row" class="py-4 px-6 font-medium text-black blackspace-nowrap">Monthly Refills via App</th>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">16,476</td>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">11,250</td>
                                    </tr>
                                    <tr class="bg-black-900/40">
                                        <th scope="row" class="py-4 px-6 font-medium text-black blackspace-nowrap">Annual Labor Savings</th>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">$702,000+</td>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">$1M</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p class="text-center text-lg mt-8 text-black-300">By shifting our focus from product development to an awareness campaign, the app's adoption skyrocketed, resulting in significant cost savings and improved patient satisfaction.</p>
                    </div>`,
                   media: `
                      <h4 class="text-xl font-bold text-slate-900">Media</h4>
                      <div class="media-viewer mt-3" data-media='${JSON.stringify(
                        Array.from({length:6},(_,i)=>`images/Gundersen/${i+1}.png`)
                      )}'>
                        <div class="media-stage">
                          <img alt="Gundersen 1" />
                          <div class="media-controls">
                            <button class="media-btn prev" aria-label="Previous">&#10094;</button>
                            <button class="media-btn next" aria-label="Next">&#10095;</button>
                          </div>
                        </div>
                        <div class="media-meta">
                          <div class="media-caption">Guide 1</div>
                          <div class="media-pager"><span class="cur">1</span> / <span class="total">16</span></div>
                        </div>
                      </div>
                      <p class="mt-4 text-sm text-center text-slate-600">
                        Click the image to view full-screen. Use ‚Üê ‚Üí keys to navigate. Press ESC to close.
                      </p>
                    `
                }  
            },
            {
                id:'live-rooms',
                title:"Validating 'Live Rooms'",
                hook:"An exciting concept for social TV viewing promised to make live content more engaging with chat, reactions, and interactive features. But before investing in building it, we needed to validate whether this idea aligned with how people actually watch live TV today.",
                outcome:"Guided 'Go/No-Go' Decision",
                tags:['Concept Testing','Behavioral Research'],
                images:["https://images.unsplash.com/photo-1549419143-41c6f39d2c20?q=80&w=2070&auto=format&fit=crop"],
                content:{
                    metrics:[
                        { value:"87%", label:"Liked interactive features" },
                        { value:"76%", label:"Preferred second-screen" },
                        { value:"56%", label:"Liked emoji reactions" },
                        { value:"41%", label:"Liked quizzes" }
                    ],
                    overview:`<div class="text-left text-sm space-y-6">
                        <div>
                            <h5 class="font-bold text-black text-lg">Background</h5>
                            <p class="text-black-300 mt-1">Live Rooms is a conceptual feature aimed at enhancing real-time TV viewing with interactive social experiences. The idea is to allow users to chat, react with emojis, and participate in live trivia while watching their favorite shows or sport.</p>
                        </div>
                        <div>
                            <h5 class="font-bold text-black text-lg">Research Goals</h5>
                            <ul class="list-disc list-inside pl-4 space-y-2 mt-2">
                                <li><b>Evaluate whether the Live Rooms concept resonates with users.</b></li>
                                <li><b>Understand if real-time interaction can increase emotional investment, social connection, and engagement.</b></li>
                                <li><b>Ensure these interactions do not disrupt the core viewing experience.</b></li>
                                <li><b>Explore how users organically adopt these features across different content types (e.g., sports vs. reality shows).</b></li>
                                <li><b>Explore adoption across different platforms (TV vs. mobile).</b></li>
                            </ul>
                        </div>
                    </div>`,
                    methodology:`<h4>My Research Process & Tools</h4>
                        <div class="methodology-container mt-6">
                            <div class="methodology-item">
                                <h5>1. Concept Testing</h5>
                                <p>4 Participants with experience in interactive streaming like Twitch, Youtube Live, etc. 4 Participants with no experience in interactive streaming.</p>
                                <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">User Interviews</span><span class="tag-badge">UserZoom</span><span class="tag-badge">Invision</span></div>
                            </div>
                            <div class="methodology-item">
                                <h5>2. Live Product Test - Round 1 (NBA Game)</h5>
                                <p>79 participants with varying age range. 95% participants responded to the feedback survey.</p>
                                <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">LiveLike</span><span class="tag-badge">UserZoom</span></div>
                            </div>
                            <div class="methodology-item">
                                <h5>3. Live Product Test - Round 2 (Reality TV)</h5>
                                <p>35 participants with 98% survey response rate.</p>
                                <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">LiveLike</span><span class="tag-badge">UserZoom</span></div>
                            </div>
                        </div>`,
                    analysis:`<div class="space-y-8">
                        <div>
                            <h4 class="font-bold text-black text-lg mb-4">Initial Concept Insights</h4>
                            <div class="grid md:grid-cols-2 gap-4 mt-4 text-left">
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Interest in Social Features</h5>
                                    <p class="text-sm text-black-300">Users showed interest, but the ideal level and format of interaction remained unclear.</p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Second-Screen Behavior</h5>
                                    <p class="text-sm text-black-300">There is potential value in second-screen experiences, but we need to explore when and how users naturally engage.</p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Role of Interactive Elements</h5>
                                    <p class="text-sm text-black-300">Reactions and quizzes were received positively, but their role in sustained engagement is unknown.</p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">User Behavior & Content Type</h5>
                                    <p class="text-sm text-black-300">The concept raised questions about how different user types would navigate this experience.</p>
                                </div>
                            </div>
                        </div>
                        <div>
                            <h4 class="font-bold text-black text-lg mb-4">Live Testing Insights</h4>
                            <div class="grid md:grid-cols-2 gap-4 mt-4 text-left">
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Control is Key</h5>
                                    <p class="text-sm text-black-300"><b>87%</b> of users liked interactive features but wanted control, like turning chat on/off.</p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Second-Screen Experience</h5>
                                    <p class="text-sm text-black-300"><b>76%</b> preferred using their phone to interact while watching on TV.</p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Positive Feedback on Interactive Elements</h5>
                                    <p class="text-sm text-black-300">Emoji reactions (<b>56%</b>) and quizzes (<b>41%</b>) boosted engagement and made the experience more fun.</p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Usability & Content Adaptation</h5>
                                    <p class="text-sm text-black-300"><b>40%</b> felt chat was overwhelming. Sports fans liked fast chat, while reality TV fans preferred polls and quizzes.</p>
                                </div>
                            </div>
                        </div>
                    </div>`,
                    results:`<div class="space-y-8">
                        <p class="text-center text-lg text-black-300">The Live Rooms concept was a clear win with high user engagement. The experience proved that interactive features can meaningfully enhance live TV viewing.</p>
                        <h4 class="font-bold text-black text-lg">Business Impact</h4>
                        <div class="grid md:grid-cols-3 gap-4 mt-4 text-black-300 text-sm">
                            <div class="panel p-4">
                                <h5 class="font-bold text-black text-base mb-2 text-center">Jersey Shore Family Vacation</h5>
                                <ul class="list-none space-y-1.5">
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">Unique Viewers:</span><span class="text-black font-semibold">13,668</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">View Time (Hrs):</span><span class="text-black font-semibold">43,017</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">Hrs per User:</span><span class="text-black font-semibold">3.1</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">Impact:</span><span class="text-black font-semibold">1,822,664,704</span></li>
                                </ul>
                            </div>
                            <div class="panel p-4">
                                <h5 class="font-bold text-black text-base mb-2 text-center">BET Awards</h5>
                                <ul class="list-none space-y-1.5">
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">Unique Viewers:</span><span class="text-black font-semibold">14,889</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">View Time (Hrs):</span><span class="text-black font-semibold">33,054</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">Hrs per User:</span><span class="text-black font-semibold">2.2</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">Impact:</span><span class="text-black font-semibold">1,082,710,213</span></li>
                                </ul>
                            </div>
                            <div class="panel p-4">
                                <h5 class="font-bold text-black text-base mb-2 text-center">The Chi</h5>
                                <ul class="list-none space-y-1.5">
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">Unique Viewers:</span><span class="text-black font-semibold">12,097</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">View Time (Hrs):</span><span class="text-black font-semibold">38,207</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">Hrs per User:</span><span class="text-black font-semibold">3.2</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-black-400">Impact:</span><span class="text-black font-semibold">1,479,008,253</span></li>
                                </ul>
                            </div>
                        </div>
                        <p class="text-center text-lg mt-8 text-black-300">The test set a solid foundation for future innovation. The user enthusiasm and clear engagement signals remain strong indicators of potential, positioning Sling to lead in redefining the live viewing experience when the time is right.</p>
                    </div>`,
                  media: `
                      <h4 class="text-xl font-bold text-slate-900">Media</h4>
                      <div class="media-viewer mt-3" data-media='${JSON.stringify(
                        Array.from({length:8},(_,i)=>`images/liverooms/${i+1}.png`)
                      )}'>
                        <div class="media-stage">
                          <img alt="Live Rooms 1" />
                          <div class="media-controls">
                            <button class="media-btn prev" aria-label="Previous">&#10094;</button>
                            <button class="media-btn next" aria-label="Next">&#10095;</button>
                          </div>
                        </div>
                        <div class="media-meta">
                          <div class="media-caption">Guide 1</div>
                          <div class="media-pager"><span class="cur">1</span> / <span class="total">16</span></div>
                        </div>
                      </div>
                      <p class="mt-4 text-sm text-center text-slate-600">
                        Click the image to view full-screen. Use ‚Üê ‚Üí keys to navigate. Press ESC to close.
                      </p>
                    `
                }
            },
        ];

        const testimonials=[ /* unchanged list */ 
            { quote:"I had the privilege of working with Sphoorthy... She helped us gain tremendous consumer insights and improved the velocity and prioritization of our product development roadmap.", author:"Gary S.", company:"Executive Vice President & Group President, Video Services", featured:true },
            { quote:"I had the pleasure of working with Sphoorthy at Sling... Her research was always thorough, actionable, and aligned with both user needs and business goals.", author:"AL Shanmugam", company:"Head of Product | AI, Personalization & Platform Growth", featured:true },
            { quote:"Sphoorthy was an invaluable asset... As a mentor in the realm of user research, she elevated the team's expertise, instilling greater confidence...", author:"Erik Jonathan Nava", company:"Lead Design System Designer @ AXS", featured:false },
            { quote:"Sphoorthy has a GIFT for uncovering what really matters to users. Her research is sharp, actionable, and always grounded in empathy.", author:"Anish Raul", company:"Generative AI & Personalisation Leader", featured:true },
            { quote:"Sphoorthy's ability to synthesize complex data into clear, compelling narratives is second to none. Her work was instrumental in shaping our product vision.", author:"Emily K.", company:"Director of Product Management", featured:true },
            { quote:"Working with Sphoorthy was a masterclass in user-centricity. She consistently championed the user's voice, leading to features that truly resonated.", author:"Michael B.", company:"Senior Product Designer", featured:false },
            { quote:"Her deep understanding of qualitative research methods helped us uncover hidden user needs that fundamentally changed our product roadmap.", author:"Sarah P.", company:"Research Lead", featured:false },
            { quote:"Sphoorthy is a rare talent who can bridge the gap between user research and business strategy. Her insights are actionable and have a direct impact on our bottom line.", author:"David L.", company:"Product Marketing Manager", featured:false },
            { quote:"Sphoorthy's presentation skills are phenomenal. She makes complex research findings easy to understand and exciting for the entire organization.", author:"Jessica M.", company:"Head of Marketing", featured:true },
            { quote:"She introduced us to new research techniques that saved us time and gave us a deeper understanding of our customers' behaviors.", author:"Chris R.", company:"Principal Engineer", featured:false },
            { quote:"Sphoorthy has a calm and empathetic approach that makes participants feel comfortable, resulting in richer, more honest feedback.", author:"Rachel H.", company:"UX Designer", featured:false },
            { quote:"Her strategic thinking helped us prioritize features based on user value, not just assumptions. The result was a product that truly solved our users' problems.", author:"Tom S.", company:"Product Manager", featured:false },
            { quote:"Sphoorthy is a fantastic collaborator. She works seamlessly with design, product, and engineering to ensure research is integrated throughout the development lifecycle.", author:"Daniel T.", company:"Engineering Manager", featured:false },
            { quote:"Her rigorous research process and attention to detail are what set her apart. She's a true professional who delivers high-quality, impactful work.", author:"Jennifer W.", company:"VP of Product", featured:true },
            { quote:"Sphoorthy's ability to turn ambiguous business questions into testable hypotheses and concrete insights is a superpower. I learned so much from her.", author:"Mark A.", company:"Senior Data Analyst", featured:false },
            { quote:"She's a natural leader and a great mentor. She helped me grow my own research skills and gave me the confidence to take on new challenges.", author:"Laura F.", company:"Junior UX Researcher", featured:false },
            { quote:"Sphoorthy's work on our onboarding flow was a game-changer. She identified key pain points that were costing us a lot of users, and her recommendations led to a significant increase in conversion.", author:"Kevin J.", company:"Growth Product Manager", featured:false },
            { quote:"Her research is always thorough, well-documented, and presented in a way that's easy to share and act upon. A true asset to any team.", author:"Lisa V.", company:"Head of Design", featured:true },
            { quote:"Sphoorthy has a knack for identifying the 'why' behind user behavior, which is invaluable for building products that users love.", author:"Ryan G.", company:"Lead UX Designer", featured:false },
            { quote:"Her work is not just about finding problems, but about discovering opportunities. She helps us see our product through our users' eyes.", author:"Sarah C.", company:"Senior Product Manager", featured:false },
            { quote:"Sphoorthy's research is always a highlight of our sprint cycles. Her insights are always a pleasant surprise and help us make more informed decisions.", author:"Ben H.", company:"Software Engineer", featured:false },
            { quote:"I've worked with many researchers, and Sphoorthy is one of the best. Her dedication, expertise, and collaborative spirit are truly exceptional.", author:"Jessica N.", company:"Director of Product", featured:true },
            { quote:"She's an incredible storyteller. She takes research data and turns it into a narrative that inspires and motivates the entire team.", author:"Alex D.", company:"Content Strategist", featured:false },
            { quote:"Sphoorthy's research helped us align our product roadmap with customer needs, and the results speak for themselves. We saw a measurable increase in user satisfaction.", author:"Michael J.", company:"Head of Engineering", featured:true },
            { quote:"Her empathy and deep understanding of human behavior make her an outstanding UX researcher. She is a pleasure to work with.", author:"Karen L.", company:"Senior UX Writer", featured:false },
            { quote:"Sphoorthy's research insights are not just informative, they're transformative. They've changed the way we think about our product and our users.", author:"David T.", company:"VP of Engineering", featured:true },
            { quote:"She has an amazing ability to see the big picture and the small details. Her research is both strategic and tactical, which is incredibly valuable.", author:"Jennifer K.", company:"Director of Marketing", featured:true },
            { quote:"Sphoorthy is a rockstar. She's smart, dedicated, and a joy to work with. I would highly recommend her to any team looking for a top-tier UX researcher.", author:"Mark R.", company:"Principal Product Manager", featured:false },
            { quote:"Her research is the foundation of our design decisions. Without her, we would be flying blind.", author:"Chris A.", company:"Lead Designer", featured:false },
            { quote:"Sphoorthy's work on our mobile app's navigation was a huge success. She helped us create a much more intuitive and user-friendly experience.", author:"Sarah B.", company:"Mobile Product Manager", featured:false }
        ];

        const projectListContainer=document.getElementById('project-list');
        const projectDetailsContainer=document.getElementById('project-details-expanded');
        const projectListWrapper=document.getElementById('project-list-container');
        const prevBtn=document.getElementById('prev-project-btn');
        const nextBtn=document.getElementById('next-project-btn');
        
        let currentProjectIndex=0;
        const carouselProjects=projects.slice(0,3);
        const projectGap=2*16; // 2rem

        function updateCarouselPosition(){
            if(carouselProjects.length===0) return;
            const h=projectListContainer.firstElementChild.offsetHeight;
            const offset=-(currentProjectIndex*(h+projectGap));
            projectListContainer.style.transform=`translateY(${offset}px)`;
            prevBtn.disabled=(currentProjectIndex===0);
            nextBtn.disabled=(currentProjectIndex===carouselProjects.length-1);
        }
        function handleCarouselNavigation(dir){
            const nextIndex=currentProjectIndex+dir;
            if(nextIndex>=0 && nextIndex<carouselProjects.length){
                currentProjectIndex=nextIndex; updateCarouselPosition();
            }
        }
        function createProjectTiles(){
            projectListContainer.innerHTML='';
            carouselProjects.forEach((p)=>{
                const tile=document.createElement('div');
                tile.className='project-tile panel';
                tile.style.backgroundImage=`url(${p.images[0]})`;
                tile.dataset.projectId=p.id;
                tile.innerHTML=`
                    <div class="project-tile-content">
                        <h4 class="text-2xl font-bold text-black mb-2">${p.title}</h4>
                        <p class="text-black-300 mb-3">${p.hook}</p>
                        <p class="font-bold text-lime-400 mb-4">${p.outcome}</p>
                        <div class="flex flex-wrap gap-2 my-2">
                            ${p.tags.map(tag=>`<span class="bg-black/10 text-lime-400 text-xs font-medium px-3 py-1 rounded-full border border-lime-400/40">${tag}</span>`).join('')}
                        </div>
                    </div>`;
                projectListContainer.appendChild(tile);
            });
            if(carouselProjects.length>0){
                const h=projectListContainer.firstElementChild.offsetHeight;
                document.getElementById('project-carousel-container').style.height=`${h}px`;
            }
            updateCarouselPosition();
        }
        function createTestimonialScroller(){
            const scroller=document.getElementById('testimonial-scroller');
            if(!scroller) return;
            const inner=document.createElement('div');
            inner.className='scroller-inner';
            const html=testimonials.map(t=>{
                const badge=t.featured?`<span class="absolute top-4 right-4 bg-lime-500 text-black text-xs font-bold px-3 py-1 rounded-full">Leadership</span>`:'';
                return `<div class="testimonial-card panel p-6 flex flex-col justify-center relative text-center h-full">${badge}<p class="text-base italic text-black-300">"${t.quote}"</p><p class="font-semibold not-italic text-black mt-4">- ${t.author}</p><p class="text-sm text-black-400">${t.company}</p></div>`;
            }).join('');
            inner.innerHTML=html+html;
            scroller.appendChild(inner);
        }
        createProjectTiles();
        createTestimonialScroller();

        let activeProjectId=null;

        /* ---------- Single-image viewer + Lightbox ---------- */
        function initMediaViewer(root){
            const wrap=root.querySelector('.media-viewer');
            if(!wrap) return;
            const images=JSON.parse(wrap.getAttribute('data-media')||'[]');
            const stageImg=wrap.querySelector('.media-stage img');
            const prevBtn=wrap.querySelector('.media-btn.prev');
            const nextBtn=wrap.querySelector('.media-btn.next');
            const capEl=wrap.querySelector('.media-caption');
            const curEl=wrap.querySelector('.media-pager .cur');
            const totalEl=wrap.querySelector('.media-pager .total');

            let idx=0;
            totalEl.textContent=String(images.length);

            const setIndex=(i)=>{
                idx=Math.max(0,Math.min(images.length-1,i));
                stageImg.src=images[idx];
                stageImg.alt=`Guide ${idx+1}`;
                capEl.textContent=`Guide ${idx+1}`;
                curEl.textContent=String(idx+1);
                prevBtn.disabled=(idx===0);
                nextBtn.disabled=(idx===images.length-1);
            };
            const goPrev=()=>setIndex(idx-1);
            const goNext=()=>setIndex(idx+1);

            prevBtn.addEventListener('click',goPrev);
            nextBtn.addEventListener('click',goNext);
            stageImg.addEventListener('click',()=>openLightbox(images,idx,setIndex));

            setIndex(0);
        }

        let __lightbox;
        function ensureLightbox(){
            if(__lightbox) return __lightbox;
            const lb=document.createElement('div');
            lb.className='lightbox';
            lb.innerHTML=`
                <div class="lightbox-inner">
                    <div class="lightbox-stage">
                        <img alt="" />
                        <div class="lightbox-controls">
                            <button class="lightbox-btn prev" aria-label="Previous">&#10094;</button>
                            <button class="lightbox-btn next" aria-label="Next">&#10095;</button>
                        </div>
                    </div>
                    <div class="lightbox-topbar">
                        <div class="lb-caption">Guide 1</div>
                        <div class="lb-pager"><span class="cur">1</span> / <span class="total">16</span></div>
                        <button class="close" aria-label="Close">&times;</button>
                    </div>
                </div>`;
            document.body.appendChild(lb);
            __lightbox=lb; return lb;
        }
        function openLightbox(images,startIndex=0,syncParentIndex=null){
            const lb=ensureLightbox();
            const img=lb.querySelector('.lightbox-stage img');
            const prev=lb.querySelector('.lightbox-btn.prev');
            const next=lb.querySelector('.lightbox-btn.next');
            const closeBtn=lb.querySelector('.lightbox-topbar .close');
            const cap=lb.querySelector('.lb-caption');
            const cur=lb.querySelector('.lb-pager .cur');
            const tot=lb.querySelector('.lb-pager .total');
            tot.textContent=String(images.length);

            let i=startIndex;
            const setI=(n)=>{
                i=Math.max(0,Math.min(images.length-1,n));
                img.src=images[i];
                img.alt=`Guide ${i+1}`;
                cap.textContent=`Guide ${i+1}`;
                cur.textContent=String(i+1);
                prev.disabled=(i===0);
                next.disabled=(i===images.length-1);
                if(typeof syncParentIndex==='function') syncParentIndex(i);
            };
            const goPrev=()=>setI(i-1);
            const goNext=()=>setI(i+1);
            const onKey=(e)=>{
                if(e.key==='Escape') close();
                else if(e.key==='ArrowLeft') goPrev();
                else if(e.key==='ArrowRight') goNext();
            };
            const close=()=>{
                lb.classList.remove('open');
                document.removeEventListener('keydown',onKey);
            };
            prev.onclick=goPrev; next.onclick=goNext; closeBtn.onclick=close;
            lb.onclick=(e)=>{ if(e.target===lb) close(); };
            document.addEventListener('keydown',onKey);
            setI(startIndex);
            lb.classList.add('open');
        }
        /* ---------- End viewer/lightbox ---------- */

        function renderProjectDetails(project){
            if(!project||!project.content){ projectDetailsContainer.innerHTML=''; return; }
            const detailsPanel=document.createElement('div');
            detailsPanel.className='project-details-content panel p-8 text-left';
            detailsPanel.innerHTML=`
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    ${project.content.metrics.map(m=>`<div class="metric-card"><div class="metric-card-value">${m.value}</div><div class="metric-card-label">${m.label}</div></div>`).join('')}
                </div>
                <div class="details-tabs flex flex-wrap items-center gap-2 border-b border-black/10 mb-6">
                    <button data-tab="overview" class="active">Overview</button>
                    <button data-tab="methodology">Methodology</button>
                    <button data-tab="analysis">Analysis</button>
                    <button data-tab="results">Results</button>
                    <button data-tab="media">Media</button>
                </div>
                <div class="tab-content active" data-tab-content="overview">${project.content.overview}</div>
                <div class="tab-content" data-tab-content="methodology">${project.content.methodology}</div>
                <div class="tab-content" data-tab-content="analysis">${project.content.analysis}</div>
                <div class="tab-content" data-tab-content="results">${project.content.results}</div>
                <div class="tab-content" data-tab-content="media">${project.content.media}</div>
                <div class="text-center pt-6 mt-6 border-t border-black/10">
                    <button class="close-details-btn text-lime-400 font-semibold hover:text-black transition-colors flex items-center gap-2 mx-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M14.707 12.707a1 1 0 01-1.414 0L10 9.414l-3.293 3.293a1 1 0 01-1.414-1.414l4-4a1 1 0 011.414 0l4 4a1 1 0 010 1.414z" clip-rule="evenodd" /></svg>
                        Collapse
                    </button>
                </div>
            `;
            projectDetailsContainer.innerHTML='';
            projectDetailsContainer.appendChild(detailsPanel);

            /* init viewer if Media is default-opened later */
            initMediaViewer(detailsPanel);
        }

        projectListContainer.addEventListener('click',(e)=>{
            const tile=e.target.closest('.project-tile');
            if(tile){
                const projectId=tile.dataset.projectId;
                const project=projects.find(p=>p.id===projectId);
                if(activeProjectId===projectId){
                    projectDetailsContainer.classList.remove('visible');
                    projectListWrapper.classList.remove('expanded');
                    activeProjectId=null;
                }else{
                    renderProjectDetails(project);
                    projectDetailsContainer.classList.add('visible');
                    projectListWrapper.classList.add('expanded');
                    activeProjectId=projectId;
                }
            }
        });

        projectDetailsContainer.addEventListener('click',(e)=>{
            if(e.target.matches('.details-tabs button')){
                const tabId=e.target.dataset.tab;
                const tabs=projectDetailsContainer.querySelectorAll('.details-tabs button');
                const contents=projectDetailsContainer.querySelectorAll('.tab-content');
                tabs.forEach(btn=>btn.classList.remove('active'));
                e.target.classList.add('active');
                contents.forEach(c=>{ c.classList.toggle('active', c.dataset.tabContent===tabId); });
                if(tabId==='media'){ initMediaViewer(projectDetailsContainer); }
            }else if(e.target.closest('.close-details-btn')){
                projectDetailsContainer.classList.remove('visible');
                projectListWrapper.classList.remove('expanded');
                activeProjectId=null;
                document.getElementById('portfolio').scrollIntoView({behavior:'smooth',block:'start'});
            }
        });

        prevBtn.addEventListener('click',()=>handleCarouselNavigation(-1));
        nextBtn.addEventListener('click',()=>handleCarouselNavigation(1));

        window.addEventListener('resize',()=>{
            if(carouselProjects.length>0){
                const h=projectListContainer.firstElementChild.offsetHeight;
                document.getElementById('project-carousel-container').style.height=`${h}px`;
                updateCarouselPosition();
            }
        });
    });
    </script>
</body>
</html>
