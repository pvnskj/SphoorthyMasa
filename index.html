<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sphoorthy Masa - Senior UX Researcher (Portfolio)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&family=Great+Vibes&display=swap" rel="stylesheet">
    <style>
        /* --- "Netflix Light" Theme Palette --- */
        :root {
          --color-bg: #f5f5f5;
          --color-surface: #ffffff;
          --color-primary: #E50914; /* Netflix Red */
          --color-primary-hover: #f40612;
          --color-text-primary: #141414;
          --color-text-secondary: #5a5a5a;
          --color-border: #eaeaea;
        }

        body{
          font-family:'Inter',sans-serif;
          color: var(--color-text-secondary);
          background-color: var(--color-bg);
          position: relative;
        }
        
        body::before { display: none; }
        #bg-canvas { display: none; }

        .content-container{
          position:relative;
          z-index:1;
          background-color: var(--color-bg);
          overflow-x: hidden;
        }

        /* --- Header --- */
        header{
          position: fixed;
          top: 0;
          left: 0;
          right: 0;
          z-index: 50;
          background: linear-gradient(to bottom, rgba(255,255,255,0.95), rgba(255,255,255,0.85));
          backdrop-filter: blur(8px);
          -webkit-backdrop-filter: blur(8px);
          border-bottom: 1px solid var(--color-border);
          transition: transform .4s ease-out;
        }
        header.hidden{transform:translateY(-120%)}
        .header-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 1.5rem;
            max-width: 1400px;
            margin: 0 auto;
        }
        
        /* UPDATED: Removed calligraphy font */
        .header-logo {
            font-family:'Inter',sans-serif;
            font-size: 1.75rem;
            color: var(--color-primary);
            font-weight: 800;
            letter-spacing: -0.5px;
        }
        
        header nav a {
            color: var(--color-text-primary);
            font-weight: 600;
            padding: 0.5rem 0.75rem;
            border-radius: 4px;
            transition: background-color 0.2s ease;
        }
        header nav a:hover {
            color: var(--color-text-primary);
            background-color: rgba(0,0,0,0.05);
        }

        /* --- UPDATED: Hero Billboard (Static Image) --- */
        #hero-billboard {
            position: relative;
            width: 100%;
            height: 80vh;
            min-height: 500px;
            max-height: 800px;
            display: flex;
            align-items: center;
            padding: 0;
            overflow: hidden;
            background-color: #000; /* Fallback */
            background-size: cover;
            background-position: center 30%;
        }
        .hero-bottom-gradient {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: linear-gradient(to top, var(--color-bg) 5%, transparent 40%);
            z-index: 3;
            pointer-events: none;
        }
        .hero-content-wrapper {
            width: 50%; /* Wider text area */
            position: relative;
            z-index: 4;
            padding: 0 5%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            /* Updated gradient for better text legibility */
            background: linear-gradient(to right, var(--color-bg) 25%, rgba(245,245,245,0.7) 60%, transparent 100%);
        }
        .hero-content {
            max-width: 600px;
        }
        
        .hero-content h2 {
            font-size: clamp(2rem, 5vw, 4rem);
            font-weight: 800;
            color: var(--color-text-primary);
            line-height: 1.1;
        }
        .hero-content p {
            font-size: clamp(1rem, 1.5vw, 1.25rem);
            color: var(--color-text-secondary);
            margin-top: 1rem;
            max-width: 600px;
        }
        .hero-buttons {
            margin-top: 1.5rem;
            display: flex;
            gap: 0.75rem;
        }
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 0.75rem 1.5rem;
            font-size: 1rem;
            font-weight: 600;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        .btn-primary {
            background-color: var(--color-primary);
            color: white;
        }
        .btn-primary:hover {
            background-color: var(--color-primary-hover);
            transform: scale(1.03);
            box-shadow: 0 4px 15px rgba(229, 9, 20, 0.3);
        }
        
        /* --- REMOVED: Hero Image Carousel --- */
        .hero-carousel-wrapper { display: none; }
        
        /* --- UPDATED: Project Carousel (Wider Cards) --- */
        .project-carousel-row {
            padding: 2rem 0;
            position: relative;
        }
        .carousel-title {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-bottom: 1rem;
            padding: 0 2.5%; /* Reduced padding */
        }
        .project-track-container {
            position: relative;
        }
        .project-track {
            display: flex;
            gap: 0.75rem;
            overflow-x: auto;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -webkit-overflow-scrolling: touch;
            padding: 0.5rem 2.5%; /* Reduced padding */
            scrollbar-width: none;
            -ms-overflow-style: none;
        }
        .project-track::-webkit-scrollbar {
            display: none;
        }

        .project-card {
            position: relative;
            /* UPDATED: Expanded card width */
            min-width: clamp(320px, 32vw, 520px);
            aspect-ratio: 16/9;
            border-radius: 8px;
            overflow: hidden;
            scroll-snap-align: start;
            background-size: cover;
            background-position: center;
            cursor: pointer;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .project-card:hover {
            transform: scale(1.05);
            z-index: 10;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .project-card-title {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            padding: 1.5rem 1rem 1rem;
            font-size: 1.1rem;
            font-weight: 600;
            color: white;
            background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
        }
        .carousel-nav {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            width: 42px;
            height: 42px;
            border-radius: 50%;
            display: grid;
            place-items: center;
            background: rgba(255, 255, 255, 0.9);
            color: var(--color-text-primary);
            border: 1px solid var(--color-border);
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            cursor: pointer;
            z-index: 5;
            transition: all .2s ease;
            opacity: 0;
        }
        .project-carousel-row:hover .carousel-nav { opacity: 1; }
        .carousel-nav:hover { background: white; transform: translateY(-50%) scale(1.05); }
        .carousel-nav:disabled { opacity: 0.3; cursor: not-allowed; }
        .carousel-nav.prev { left: 1%; }
        .carousel-nav.next { right: 1%; }

        /* --- Content Sections (Replaces .panel) --- */
        .content-section {
            padding: 3rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }
        .content-section-title {
            font-size: 2.5rem;
            font-weight: 800;
            color: var(--color-text-primary);
            margin-bottom: 2rem;
            text-align: center;
        }
        .card {
            background: var(--color-surface);
            border-radius: 12px;
            border: 1px solid var(--color-border);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            padding: 2.5rem;
        }
        /* Re-theme Competency Tags */
        .bg-black\/10.text-lime-400 {
            background-color: rgba(229, 9, 20, 0.1) !important;
            color: var(--color-primary) !important;
            border: 1px solid rgba(229, 9, 20, 0.2) !important;
            font-weight: 500;
        }
        /* Re-theme Skill Tags */
        .tag-badge {
            background-color: rgba(229, 9, 20, 0.1);
            color: var(--color-primary);
            font-size: .75rem;
            font-weight: 500;
            padding: .25rem .75rem;
            border-radius: 9999px;
            border: 1px solid rgba(229, 9, 20, 0.2);
        }
        /* Re-theme Skills blocks */
        .p-6.bg-gray-800\/50 {
            background: rgba(0,0,0,0.02);
            border: 1px solid var(--color-border);
        }
        /* Re-theme CTA button */
        a[href^="mailto:"] {
            background-color: var(--color-primary);
            color: white;
            transition: all 0.2s ease;
        }
        a[href^="mailto:"]:hover {
            background-color: var(--color-primary-hover);
            box-shadow: 0 4px 15px rgba(229, 9, 20, 0.3);
            transform: scale(1.03);
        }
        
        /* Re-theme Testimonials */
        .testimonial-scroller{max-width:1200px;margin:auto;overflow:hidden;-webkit-mask:linear-gradient(90deg,transparent,black 20%,black 80%,transparent);mask:linear-gradient(90deg,transparent,black 20%,black 80%,transparent)}
        .scroller-inner{display:flex;gap:1.5rem;width:max-content;animation:scroll 90s linear infinite}
        .testimonial-scroller:hover .scroller-inner{animation-play-state:paused}
        @keyframes scroll{to{transform:translateX(calc(-50% - .75rem))}}
        
        .testimonial-card {
            width: 380px;
            height: auto;
            min-height: 250px;
            background: var(--color-surface);
            border-radius: 12px;
            border: 1px solid var(--color-border);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
        }
        .panel {
            background: var(--color-surface);
            border-radius: 12px;
            border: 1px solid var(--color-border);
            box-shadow: 0 4px 15px rgba(0,0,0,0.05);
            transition: box-shadow .3s ease;
        }
        .panel:hover { box-shadow: 0 8px 32px 0 rgba(0,0,0,0.1); }
        .text-black { color: var(--color-text-primary) !important; }
        .text-gray-300, .text-gray-400 { color: var(--color-text-secondary) !important; }
        .text-lime-400 { color: var(--color-primary) !important; }

        /* --- Project Modal --- */
        #project-modal {
            position: fixed;
            inset: 0;
            z-index: 999;
            display: none;
            background: rgba(0,0,0,0.6);
            backdrop-filter: blur(5px);
            -webkit-backdrop-filter: blur(5px);
            animation: fadeIn .3s ease;
        }
        #project-modal.open { display: grid; place-items: center; }
        
        .modal-content {
            position: relative;
            width: min(95vw, 1100px);
            height: min(90vh, 900px);
            background: var(--color-surface);
            border-radius: 12px;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            box-shadow: 0 20px 50px rgba(0,0,0,0.3);
            animation: slideIn .4s ease-out;
        }
        .modal-header {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid var(--color-border);
            position: relative;
        }
        .modal-header h3 {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--color-text-primary);
        }
        .modal-close-btn {
            position: absolute;
            top: 1.25rem;
            right: 1.25rem;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--color-bg);
            border: 1px solid var(--color-border);
            color: var(--color-text-secondary);
            font-size: 1.5rem;
            line-height: 1;
            cursor: pointer;
            transition: all .2s ease;
        }
        .modal-close-btn:hover {
            background: #eee;
            color: var(--color-text-primary);
            transform: scale(1.05);
        }
        .modal-body {
            padding: 2rem;
            overflow-y: auto;
            flex-grow: 1;
        }
        
        /* --- NEW: Modal Content Styling --- */
        .modal-body h4 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--color-text-primary);
            margin-top: 1.5rem;
            margin-bottom: 1rem;
        }
        .modal-body h4:first-child {
            margin-top: 0;
        }
        .modal-body h5 {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--color-text-primary);
            margin-bottom: 0.25rem;
        }
        .modal-body p {
            color: var(--color-text-secondary);
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        .modal-body ul {
            list-style-type: disc;
            margin-left: 1.25rem;
            color: var(--color-text-secondary);
            margin-bottom: 1rem;
            line-height: 1.6;
        }
        .modal-body .methodology-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }
        .modal-body .methodology-item,
        .modal-body .insight-card {
            background: #fafafa;
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 1.25rem;
        }
        .modal-body .stat-card {
            background: #fafafa;
            border: 1px solid var(--color-border);
            border-left: 4px solid var(--color-primary);
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }
        .modal-body .stat-card .stat-number {
            font-size: 2.25rem;
            font-weight: 800;
            color: var(--color-primary);
            line-height: 1;
        }
        .modal-body .stat-card .stat-description {
            font-size: .875rem;
            margin-top: .5rem;
            color: var(--color-text-secondary);
        }
        .modal-body .bg-black\/20 {
            background: #fafafa;
            border: 1px solid var(--color-border);
        }
        .modal-body .text-lime-200 { /* Override old class */
            color: #777;
            font-style: italic;
        }
        .modal-body table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 1rem;
        }
        .modal-body th, .modal-body td {
            padding: 0.75rem 1rem;
            border: 1px solid var(--color-border);
            text-align: left;
            color: var(--color-text-secondary);
        }
        .modal-body th {
            background-color: #fafafa;
            color: var(--color-text-primary);
            font-weight: 600;
        }
        .modal-body .font-bold.text-lime-400 {
            color: var(--color-primary) !important;
            font-weight: 600;
        }
        /* --- End Modal Content Styling --- */

        .metric-card {
            background: #fafafa;
            border: 1px solid var(--color-border);
            border-radius: 12px;
            padding: 1.5rem;
            text-align: center;
        }
        .metric-card-value {
            font-size: 2.25rem;
            line-height: 1;
            font-weight: 800;
            color: var(--color-primary);
        }
        .metric-card-label {
            font-size: .9rem;
            color: var(--color-text-secondary);
            margin-top: 0.25rem;
        }
        .details-tabs {
            border-bottom: 1px solid var(--color-border);
        }
        .details-tabs button {
            padding: .75rem 0.25rem;
            margin-right: 1.5rem;
            font-weight: 600;
            color: var(--color-text-secondary);
            border-bottom: 3px solid transparent;
            transition: all .3s;
        }
        .details-tabs button.active {
            color: var(--color-text-primary);
            border-bottom-color: var(--color-primary);
        }
        .tab-content { display: none; }
        .tab-content.active { display: block; animation: contentFadeIn .5s ease; }
        
        /* --- Animation & Utility --- */
        @keyframes fadeIn{from{opacity:0}to{opacity:1}}
        @keyframes contentFadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}
        @keyframes slideIn{from{opacity:0;transform:translateY(30px) scale(0.98)}to{opacity:1;transform:translateY(0) scale(1)}}

        .reveal{opacity:0;transform:translateY(50px);transition:opacity .8s ease-out,transform .8s ease-out}
        .reveal.visible{opacity:1;transform:translateY(0)}

        .main-container{max-width:1400px; margin: 0 auto;}
        
        /* Media carousel styles (for inside modal) */
        .media-carousel{position:relative;width:100%}
        .media-track{display:flex;gap:.75rem;overflow-x:auto;padding:.5rem 2.75rem;scroll-snap-type:x mandatory;scroll-behavior:smooth;-webkit-overflow-scrolling:touch;mask-image:linear-gradient(90deg,transparent 0,#000 32px,#000 calc(100% - 32px),transparent 100%);overscroll-behavior-x:contain}
        .media-item{position:relative;min-width:clamp(220px,28vw,380px);aspect-ratio:16/9;border-radius:14px;overflow:hidden;scroll-snap-align:center;background:rgba(255,255,255,0.5);border:1px solid rgba(0,0,0,0.06);transition:transform .25s ease,box-shadow .25s ease}
        .media-item:hover{transform:scale(1.06);z-index:2;box-shadow:0 12px 40px rgba(0,0,0,.18)}
        .media-img{width:100%;height:100%;object-fit:cover;display:block}
        .media-cap{position:absolute;left:10px;bottom:10px;padding:6px 10px;font-size:12px;color:#0f172a;background:rgba(255,255,255,.7);border:1px solid rgba(0,0,0,.08);border-radius:999px;backdrop-filter:blur(6px) saturate(140%)}
        .media-nav{position:absolute;top:50%;transform:translateY(-50%);width:38px;height:38px;border-radius:9999px;display:grid;place-items:center;background:rgba(255,255,255,0.7);color:#0f172a;border:1px solid rgba(0,0,0,0.1);cursor:pointer;z-index:5;transition:background .2s ease,transform .2s ease;backdrop-filter:blur(8px) saturate(160%)}
        .media-nav:hover{background:rgba(255,255,255,0.9);transform:translateY(-50%) scale(1.05)}
        .media-nav:disabled{opacity:.45;cursor:not-allowed}
        .media-nav.prev{left:6px}
        .media-nav.next{right:6px}
        .media-viewer{position:relative;width:100%;max-width:1100px;margin-inline:auto}
        .media-stage{position:relative;width:100%;aspect-ratio:16/9;border-radius:16px;overflow:hidden;background:rgba(255,255,255,.6);border:1px solid rgba(0,0,0,.08);display:grid;place-items:center}
        .media-stage img{width:100%;height:100%;object-fit:contain;cursor:zoom-in;user-select:none;-webkit-user-drag:none}
        .media-controls{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;padding:.75rem;pointer-events:none}
        .media-btn{pointer-events:auto;width:42px;height:42px;display:grid;place-items:center;border-radius:9999px;background:rgba(255,255,255,.85);border:1px solid rgba(0,0,0,.1);color:#0f172a;cursor:pointer;transition:transform .15s ease,background .15s ease,opacity .15s ease;backdrop-filter:blur(8px) saturate(160%)}
        .media-btn:hover{transform:scale(1.06);background:#fff}
        .media-btn:disabled{opacity:.4;cursor:not-allowed}
        .media-meta{margin-top:.6rem;display:flex;align-items:center;justify-content:space-between;gap:.75rem;color:#334155}
        .media-pager{font-variant-numeric:tabular-nums;opacity:.85}
        .lightbox{position:fixed;inset:0;z-index:9999;display:none;background:rgba(9,12,16,.75);backdrop-filter:blur(6px) saturate(140%)}
        .lightbox.open{display:grid}
        .lightbox-inner{position:relative;width:min(96vw,1400px);height:min(92vh,860px);margin:auto;display:grid;grid-template-rows:1fr auto;gap:.75rem}
        .lightbox-stage{position:relative;width:100%;height:100%;border-radius:16px;overflow:hidden;background:#0b1020;display:grid;place-items:center;border:1px solid rgba(255,255,255,.15)}
        .lightbox-stage img{width:100%;height:100%;object-fit:contain;user-select:none;-webkit-user-drag:none}
        .lightbox-controls{position:absolute;inset:0;display:flex;align-items:center;justify-content:space-between;padding:1rem;pointer-events:none}
        .lightbox-btn{pointer-events:auto;width:46px;height:46px;border-radius:9999px;display:grid;place-items:center;background:rgba(255,255,255,.9);border:1px solid rgba(0,0,0,.15);color:#0f172a;cursor:pointer;transition:transform .15s ease,background .15s ease;backdrop-filter:blur(8px) saturate(160%)}
        .lightbox-btn:hover{transform:scale(1.06);background:#fff}
        .lightbox-topbar{display:flex;justify-content:space-between;align-items:center;color:#e5e7eb;font-size:.95rem}
        .lightbox-topbar .close{width:42px;height:42px;border-radius:9999px;display:grid;place-items:center;background:rgba(255,255,255,.88);color:#0f172a;border:1px solid rgba(0,0,0,.12);cursor:pointer;transition:transform .15s ease,background .15s ease}
        .lightbox-topbar .close:hover{transform:scale(1.06);background:#fff}
    </style>
</head>
<body class="antialiased">

    <div class="content-container">
        <header>
            <div class="header-inner">
                <a href="#" class="header-logo">Sphoorthy Masa</a>
                <nav class="hidden md:flex space-x-6 text-base font-medium items-center">
                    <a href="#portfolio">Portfolio</a>
                    <a href="#about">About</a>
                    <a href="#skills">Skills</a>
                    <a href="#why-me-contact">Contact</a>
                </nav>
            </div>
        </header>

        <main>
            <section id="hero-billboard">
                <div class="hero-content-wrapper">
                    <div class="hero-content reveal">
                        <h2>Reinventing The TV Guide</h2>
                        <p>A strategic research initiative to unify user experiences across two major platforms, turning a point of friction into a driver for engagement and revenue.</p>
                        <div class="hero-buttons">
                            <button class="btn btn-primary" data-project-id="guide">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z" clip-rule="evenodd" /></svg>
                                View Details
                            </button>
                        </div>
                    </div>
                </div>
                <div class="hero-bottom-gradient"></div>
            </section>

            <section id="portfolio" class="reveal">
                <div id="project-carousels-container">
                    </div>
            </section>

            <div class="main-container">
                <section id="about" class="content-section reveal">
                    <div class="card">
                        <div class="grid md:grid-cols-5 gap-12 items-center">
                            <div class="md:col-span-3">
                                <h3 class="text-3xl font-bold text-black mb-4">About Me</h3>
                                <div class="text-lg text-gray-300 space-y-4">
                                    <p>Hello, I'm Sphoorthy, a Senior UX Researcher with over a decade of experience turning ambiguous questions into sharp insights that address both user pain points and business strategy.</p>
                                    <p>Most recently, I led UX Research at Sling TV... My goal is to help product, design, and engineering teams build experiences people love using.</p>
                                </div>
                            </div>
                            <div class="md:col-span-2">
                                <h4 class="text-xl font-bold text-black mb-4">Core Competencies</h4>
                                <div class="flex flex-wrap gap-3">
                                    <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">User Interviews</span>
                                    <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Survey Design</span>
                                    <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Journey Mapping</span>
                                    <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Usability Testing</span>
                                    <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">A/B Testing</span>
                                    <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Data Analysis</span>
                                    <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Prototyping</span>
                                    <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Quantitative Analysis</span>
                                    <span class="bg-black/10 text-lime-400 text-sm font-medium px-4 py-2 rounded-full border border-lime-400/40">Strategic Planning</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>
                
                <section id="skills" class="content-section reveal">
                    <div class="card">
                        <div class="text-center mb-8">
                            <h3 class="text-4xl font-bold text-black">Skills & Expertise</h3>
                            <p class="text-lg text-gray-400 mt-2">A comprehensive look at my research methodologies, tools, and frameworks.</p>
                        </div>
                        <div class="flex flex-col md:flex-row gap-8">
                            <div class="flex-1 p-6 bg-gray-800/50 rounded-xl border border-gray-700/50">
                                <h4 class="text-2xl font-semibold text-black mb-4">Research Methodologies</h4>
                                <div class="space-y-4">
                                    <div>
                                        <h5 class="text-lg font-bold text-black mb-2">Quantitative</h5>
                                        <div class="flex flex-wrap gap-2">
                                            <span class="tag-badge">Surveys</span>
                                            <span class="tag-badge">A/B Testing</span>
                                            <span class="tag-badge">Data Analysis</span>
                                            <span class="tag-badge">First-click Testing</span>
                                        </div>
                                    </div>
                                    <div>
                                        <h5 class="text-lg font-bold text-black mb-2">Qualitative</h5>
                                        <div class="flex flex-wrap gap-2">
                                            <span class="tag-badge">User Interviews</span>
                                            <span class="tag-badge">Usability testing</span>
                                            <span class="tag-badge">Card Sorting</span>
                                            <span class="tag-badge">Contextual Interviews</span>
                                            <span class="tag-badge">Focus Groups</span>
                                            <span class="tag-badge">Journey mapping</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="flex-1 p-6 bg-gray-800/50 rounded-xl border border-gray-700/50">
                                <h4 class="text-2xl font-semibold text-black mb-4">Tools & Software</h4>
                                <div class="flex flex-wrap gap-2">
                                    <span class="tag-badge">UserZoom</span>
                                    <span class="tag-badge">UserTesting</span>
                                    <span class="tag-badge">Qualtrics</span>
                                    <span class="tag-badge">Figma</span>
                                    <span class="tag-badge">Hotjar</span>
                                    <span class="tag-badge">Dovetail</span>
                                </div>

                                <h4 class="text-2xl font-semibold text-black mt-8 mb-4">Process & Frameworks</h4>
                                <div class="flex flex-wrap gap-2">
                                    <span class="tag-badge">Agile</span>
                                    <span class="tag-badge">Dual-track Agile</span>
                                    <span class="tag-badge">Jobs To Be Done (JTBD)</span>
                                    <span class="tag-badge">Design Thinking</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="why-me-contact" class="content-section reveal">
                    <div class="card p-12 flex flex-col md:flex-row items-center gap-12">
                        <div class="md:w-1/2 text-left">
                            <h3 class="text-3xl font-bold text-black mb-4">Why Me?</h3>
                            <div class="text-lg text-gray-300 space-y-4 max-w-prose">
                                <p>Good research doesn't just inform. It transforms how teams think, build, and connect with their users. I focus on turning insights into action and action into impact.</p>
                                <p class="font-semibold text-2xl mt-6 text-black">User insights shouldn't be boring. And neither should your researcher.</p>
                            </div>
                        </div>
                        <div class="md:w-px h-full bg-gray-200 md:block hidden"></div>
                        <div class="md:w-1/2 text-center">
                            <h3 class="text-4xl font-bold text-black mb-4">Let's Build Something Meaningful</h3>
                            <p class="text-lg text-gray-300 mb-8">If you're building a team where research plays a strategic role, I'd love the opportunity to contribute.</p>
                            <a href="mailto:sphoorthy.masa@example.com" class="inline-block font-bold py-4 px-10 text-lg rounded-lg shadow-lg">Get In Touch</a>
                        </div>
                    </div>
                </section>
                
                <section id="testimonials" class="content-section reveal">
                    <div class="text-center pb-8"><h3 class="text-4xl font-bold text-black">Testimonials</h3></div>
                    <div id="testimonial-scroller" class="testimonial-scroller"></div>
                </section>
            </div>
        </main>

        <footer class="text-center py-10 mt-10 border-t border-gray-200"><p class="text-gray-400">&copy; 2019 Sphoorthy Masa. All Rights Reserved.</p></footer>
    </div>
    
    <div id="project-modal">
        <div class="modal-content">
            <header class="modal-header">
                <h3>Project Details</h3>
                <button class="modal-close-btn" aria-label="Close">&times;</button>
            </header>
            <div class="modal-body">
                </div>
        </div>
    </div>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        /* ========== Header Scroll Effect ========== */
        const header=document.querySelector('header');
        let lastScrollTop=0;
        window.addEventListener('scroll',()=>{
            let st=window.pageYOffset||document.documentElement.scrollTop;
            if(st>lastScrollTop&&st>100){header.classList.add('hidden');}
            else if(st<100){header.classList.remove('hidden');}
            lastScrollTop=st<=0?0:st;
        },false);

        /* ========== Reveal on Scroll ========== */
        const observer=new IntersectionObserver((entries)=>{
            entries.forEach(entry=>{ if(entry.isIntersecting) entry.target.classList.add('visible'); });
        },{threshold:0.1});
        document.querySelectorAll('.reveal').forEach(el=>observer.observe(el));
        
        /* ========== DATA (UPDATED TILE IMAGES) ========== */
        const projects=[
            { 
                id:'guide',
                title:"Reinventing The TV Guide",
                hook:"A strategic research initiative to unify user experiences across two major platforms, turning a point of friction into a driver for engagement and revenue.",
                outcome:"~$7.46M Estimated Annual Impact",
                tags:['Strategic Research','Data-Driven Insights','Business Impact'],
                images:["images/Guide/7.png"], // UPDATED
                content:{
                    metrics:[
                        {value:"~$7.46M",label:"Estimated Annual Value Impact"},
                        {value:"90%",label:"Target Task Success Rate"},
                        {value:"12%",label:"Reduction in CX Complaints"}
                    ],
                    overview:`<div class="text-left space-y-6"><div><h5 class="font-bold text-black text-lg">Background</h5><p class="text-gray-300 mt-1">The guide sits at the heart of content discovery, but had evolved in parallel across Sling TV and Dish TV, creating fragmented experiences.</p></div><div><h5 class="font-bold text-black text-lg">The Challenge</h5><p class="text-gray-300 mt-1">How can we unify the guide experience to enhance usability and personalization without alienating loyal users on two very different platforms?</p></div><div><h5 class="font-bold text-black text-lg">Key Objectives</h5><ul class="list-disc list-inside pl-4 space-y-2 mt-2"><li>Identify user frustrations and unmet needs across both platforms.</li><li>Uncover shared pain points to guide a unified design strategy.</li><li>Deliver actionable recommendations that balance user needs and business goals.</li></ul></div></div>`,
                    methodology:`<h4>My Research Process & Tools</h4><div class="methodology-container mt-6">
                        <div class="methodology-item">
                            <h5>1. Discovery & Planning</h5>
                            <p>Stakeholder Interviews, Data Analysis, and Defining Project Scope.</p>
                            <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">UserZoom</span><span class="tag-badge">Google Analytics</span><span class="tag-badge">JIRA</span></div>
                        </div>
                        <div class="methodology-item">
                            <h5>2. Generative Research</h5>
                            <p>In-depth User Interviews to uncover behaviors and motivations.</p>
                            <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">User Interviews</span><span class="tag-badge">Lookback</span><span class="tag-badge">Google Meet</span></div>
                        </div>
                        <div class="methodology-item">
                            <h5>3. Synthesis & Ideation</h5>
                            <p>Mapping insights and collaborating with design and product teams.</p>
                            <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">Miro</span><span class="tag-badge">Figma</span></div>
                        </div>
                        <div class="methodology-item">
                            <h5>4. Validation & Delivery</h5>
                            <p>Usability Testing and Handoff to Engineering teams.</p>
                            <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">UserTesting.com</span><span class="tag-badge">Figma Prototypes</span><span class="tag-badge">Confluence</span></div>
                        </div>
                    </div>`,
                    analysis:`<h4>Target Audience & Segments</h4><div class="flex flex-col md:flex-row gap-4 mt-4 text-left"><div class="flex-1 p-4 bg-black/20 rounded-lg border border-black/10"><h5 class="font-bold text-black">DISH TV Subscribers (65+)</h5><p class="text-sm text-gray-300">Tolerate outdated UI but struggle with hidden features; often have accessibility needs.</p></div><div class="flex-1 p-4 bg-black/20 rounded-lg border border-black/10"><h5 class="font-bold text-black">Sling TV Subscribers (~35)</h5><p class="text-sm text-gray-300">Tech-savvy, expect fast, intuitive interfaces and quick content access.</p></div></div><h4 class="mt-8">Key Quantitative Insights</h4><div class="grid md:grid-cols-2 gap-4 mt-4 text-gray-300 text-left"><div class="insight-card"><h5>1. High Engagement, Low Conversion</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li><b>Sling TV:</b> 79% engagement &rarr; 56% playback</li><li><b>DISH TV:</b> 86% engagement &rarr; 48% playback</li></ul><p class="text-sm text-lime-200">üîç Insight: Strong adoption, but poor discoverability leads to drop-offs.</p></div><div class="insight-card"><h5>2. Underutilized Features</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li>73% of sessions used the default "ALL" filter.</li><li>"Favorites" users had a 64% playback rate vs. 55% for others.</li></ul><p class="text-sm text-lime-200">üîç Insight: Personalization improves engagement but is underused.</p></div><div class="insight-card"><h5>3. High Drop-Offs in Short Sessions</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li>44% of Sling guide sessions ended without playback.</li><li>Most of these non-playback sessions lasted &lt;20 seconds.</li></ul><p class="text-sm text-lime-200">üîç Insight: Users abandon quickly, suggesting poor content surfacing.</p></div><div class="insight-card"><h5>4. Habitual Navigation (DISH)</h5><ul class="text-sm list-disc list-inside my-2 space-y-1"><li>46% of users navigated vertically by habit.</li><li>Only 8% used faster horizontal navigation by time.</li></ul><p class="text-sm text-lime-200">üîç Insight: Users may not be aware of more efficient navigation options.</p></div></div>`,
                    results:`<p class="text-center text-lg">The research insights directly led to iterative design improvements, validating each solution through rigorous testing to ensure it met user needs and business goals.</p><h4 class="mt-8">Financial Impact</h4><div class="grid md:grid-cols-2 lg:grid-cols-4 gap-4 mt-4 text-gray-300"><div class="stat-card"><div class="stat-number">~$5.83M</div><div class="stat-description">from Increased Retention</div></div><div class="stat-card"><div class="stat-number">~$1.94M</div><div class="stat-description">from Feature Upsells</div></div><div class="stat-card"><div class="stat-number">~$193k</div><div class="stat-description">from Ad Revenue</div></div><div class="stat-card"><div class="stat-number">~$63k</div><div class="stat-description">from Ops Savings</div></div></div>`,
                    media: `
                      <h4 class="text-xl font-bold text-slate-900">Media</h4>
                      <div class="media-viewer mt-3" data-media='${JSON.stringify(
                        Array.from({length:16},(_,i)=>`images/Guide/${i+1}.png`)
                      )}'>
                        <div class="media-stage">
                          <img alt="Guide 1" />
                          <div class="media-controls">
                            <button class="media-btn prev" aria-label="Previous">&#10094;</button>
                            <button class="media-btn next" aria-label="Next">&#10095;</button>
                          </div>
                        </div>
                        <div class="media-meta">
                          <div class="media-caption">Guide 1</div>
                          <div class="media-pager"><span class="cur">1</span> / <span class="total">16</span></div>
                        </div>
                      </div>
                      <p class="mt-4 text-sm text-center text-slate-600">
                        Click the image to view full-screen. Use ‚Üê ‚Üí keys to navigate. Press ESC to close.
                      </p>
                    `
                }
            },
            {
                id:'gundersen',
                title:"Gundersen Pharmacy",
                hook:"Streamlining prescription refills by empowering patients and reducing manual work for pharmacy staff, resulting in significant cost savings and improved patient satisfaction.",
                outcome:"Achieved 12,334+ Active App Users within 6 months.",
                tags:['Workflow Analysis','Adoption Strategy','Usability Testing'],
                images:["images/Gundersen/6.png"], // UPDATED
                content:{
                    metrics:[
                        { value:"12,334+", label:"Active App Users" },
                        { value:"36%", label:"Refill Volume through App" },
                        { value:"$702k+", label:"Annual Labor Cost Savings" }
                    ],
                    overview:`<div class="text-left space-y-6">
                        <div>
                            <h5 class="font-bold text-black text-lg">Background</h5>
                            <p class="text-gray-300 mt-1">The pharmacy app was designed to simplify and modernize the prescription refill experience. It aimed to reduce the repetitive, manual burden on pharmacists and empower patients with self-service medication management.</p>
                        </div>
                        <div>
                            <h5 class="font-bold text-black text-lg">Research Goals</h5>
                            <ul class="list-disc list-inside pl-4 space-y-2 mt-2">
                                <li><b>Boost Adoption:</b> Achieve 10,000+ active app users within 6 months.</li>
                                <li><b>Drive Prescription Orders:</b> Convert 25% of monthly refills (11,250 orders) through the app.
                            </ul>
                        </div>
                    </div>`,
                    methodology:`<div class="space-y-6">
                        <p class="text-sm text-gray-300">Our research was a blend of qualitative and quantitative methods to understand both the user experience and the internal workflow challenges.</p>
                        <div class="methodology-container mt-4">
                            <div class="methodology-item">
                                <h5>1. Workflow & Stakeholder Analysis</h5>
                                <p>Interviews with pharmacists, RNs, and MAs to map the manual refill process.</p>
                                <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">Stakeholder Interviews</span><span class="tag-badge">Process Mapping</span></div>
                            </div>
                            <div class="methodology-item">
                                <h5>2. Usability & Heuristic Evaluation</h5>
                                <p>Tested the existing app with both patients and staff to identify pain points and opportunities.</p>
                                <div class="mt-4 flex flex-wrap gap-2"><span class="tag-badge">Heuristic Analysis</span><span class="tag-badge">Usability Testing</span></div>
                            </div>
                        </div>
                    </div>`,
                    analysis:`<div class="space-y-8">
                        <div>
                            <h4 class="font-bold text-black text-lg mb-4">Key Insights from Analysis</h4>
                            <div class="grid md:grid-cols-2 gap-4 mt-4 text-left">
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Minimalist UI & High Usability</h5>
                                    <p class="text-sm text-gray-300">The app's core functionality was clear, allowing users to refill prescriptions with ease. <b>Task success rate was 95%.</b></p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Unexpected Awareness Gap</h5>
                                    <p class="text-sm text-gray-300">A major finding: many patients were simply <b>unaware the app existed.</b> This shifted our focus from product improvement to a marketing and awareness strategy.</p>
                                </div>
                            </div>
                        </div>
                    </div>`,
                    results:`<div class="space-y-8">
                        <p class="text-center text-lg text-gray-300">Our research led to a strategic awareness campaign that directly addressed the adoption problem and produced significant business impact.</p>
                        <h4 class="font-bold text-black text-lg">Key Outcomes</h4>
                        <div class="overflow-x-auto relative rounded-lg border border-black/10 mt-4">
                            <table class="w-full text-sm text-left text-gray-400">
                                <thead class="text-xs text-gray-2 00 uppercase bg-gray-800/50">
                                    <tr>
                                        <th scope="col" class="py-3 px-6 text-center">Metric</th>
                                        <th scope="col" class="py-3 px-6 text-center">Outcome</th>
                                        <th scope="col" class="py-3 px-6 text-center">Target</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <tr class="bg-gray-900/40 border-b border-gray-700">
                                        <th scope="row" class="py-4 px-6 font-medium text-black blackspace-nowrap">Active App Users</th>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">12,334</td>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">10,000+</td>
                                    </tr>
                                    <tr class="bg-gray-900/40 border-b border-gray-700">
                                        <th scope="row" class="py-4 px-6 font-medium text-black blackspace-nowrap">Monthly Refills via App</th>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">16,476</td>
                                        <td class="py-4 px-6 text-center font-bold text-lime-400">11,250</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>`,
                   media: `
                      <h4 class="text-xl font-bold text-slate-900">Media</h4>
                      <div class="media-viewer mt-3" data-media='${JSON.stringify(
                        Array.from({length:6},(_,i)=>`images/Gundersen/${i+1}.png`)
                      )}'>
                        <div class="media-stage">
                          <img alt="Gundersen 1" />
                        </div>
                      </div>
                    `
                }  
            },
            {
                id:'live-rooms',
                title:"Validating 'Live Rooms'",
                hook:"An exciting concept for social TV viewing promised to make live content more engaging with chat, reactions, and interactive features.",
                outcome:"Guided 'Go/No-Go' Decision",
                tags:['Concept Testing','Behavioral Research'],
                images:["images/liverooms/1.png"], // UPDATED
                content:{
                    metrics:[
                        { value:"87%", label:"Liked interactive features" },
                        { value:"76%", label:"Preferred second-screen" }
                    ],
                    overview:`<div class="text-left text-sm space-y-6">
                        <div>
                            <h5 class="font-bold text-black text-lg">Background</h5>
                            <p class="text-gray-300 mt-1">Live Rooms is a conceptual feature aimed at enhancing real-time TV viewing with interactive social experiences.</p>
                        </div>
                        <div>
                            <h5 class="font-bold text-black text-lg">Research Goals</h5>
                            <ul class="list-disc list-inside pl-4 space-y-2 mt-2">
                                <li><b>Evaluate whether the Live Rooms concept resonates with users.</b></li>
                                <li><b>Understand if real-time interaction can increase emotional investment.</b></li>
                                <li><b>Ensure these interactions do not disrupt the core viewing experience.</b></li>
                            </ul>
                        </div>
                    </div>`,
                    methodology:`<h4>My Research Process & Tools</h4>
                        <div class="methodology-container mt-6">
                            <div class="methodology-item">
                                <h5>1. Concept Testing</h5>
                                <p>4 Participants with experience in interactive streaming like Twitch, Youtube Live, etc. 4 Participants with no experience in interactive streaming.</p>
                            </div>
                            <div class="methodology-item">
                                <h5>2. Live Product Test - Round 1 (NBA Game)</h5>
                                <p>79 participants with varying age range. 95% participants responded to the feedback survey.</p>
                            </div>
                        </div>`,
                    analysis:`<div class="space-y-8">
                        <div>
                            <h4 class="font-bold text-black text-lg mb-4">Live Testing Insights</h4>
                            <div class="grid md:grid-cols-2 gap-4 mt-4 text-left">
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Control is Key</h5>
                                    <p class="text-sm text-gray-300"><b>87%</b> of users liked interactive features but wanted control, like turning chat on/off.</p>
                                </div>
                                <div class="insight-card p-4">
                                    <h5 class="font-bold text-black mb-2">Second-Screen Experience</h5>
                                    <p class="text-sm text-gray-300"><b>76%</b> preferred using their phone to interact while watching on TV.</p>
                                </div>
                            </div>
                        </div>
                    </div>`,
                    results:`<div class="space-y-8">
                        <p class="text-center text-lg text-gray-300">The Live Rooms concept was a clear win with high user engagement. The experience proved that interactive features can meaningfully enhance live TV viewing.</p>
                        <h4 class="font-bold text-black text-lg">Business Impact</h4>
                        <div class="grid md:grid-cols-3 gap-4 mt-4 text-gray-300 text-sm">
                            <div class="panel p-4">
                                <h5 class="font-bold text-black text-base mb-2 text-center">Jersey Shore</h5>
                                <ul class="list-none space-y-1.5">
                                    <li class="flex justify-between items-center"><span class="font-medium text-gray-400">Unique Viewers:</span><span class="text-black font-semibold">13,668</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-gray-400">View Time (Hrs):</span><span class="text-black font-semibold">43,017</span></li>
                                </ul>
                            </div>
                            <div class="panel p-4">
                                <h5 class="font-bold text-black text-base mb-2 text-center">BET Awards</h5>
                                <ul class="list-none space-y-1.5">
                                    <li class="flex justify-between items-center"><span class="font-medium text-gray-400">Unique Viewers:</span><span class="text-black font-semibold">14,889</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-gray-400">View Time (Hrs):</span><span class="text-black font-semibold">33,054</span></li>
                                </ul>
                            </div>
                            <div class="panel p-4">
                                <h5 class="font-bold text-black text-base mb-2 text-center">The Chi</h5>
                                <ul class="list-none space-y-1.5">
                                    <li class="flex justify-between items-center"><span class="font-medium text-gray-400">Unique Viewers:</span><span class="text-black font-semibold">12,097</span></li>
                                    <li class="flex justify-between items-center"><span class="font-medium text-gray-400">View Time (Hrs):</span><span class="text-black font-semibold">38,207</span></li>
                                </ul>
                            </div>
                        </div>
                    </div>`,
                  media: `
                      <h4 class="text-xl font-bold text-slate-900">Media</h4>
                      <div class="media-viewer mt-3" data-media='${JSON.stringify(
                        Array.from({length:8},(_,i)=>`images/liverooms/${i+1}.png`)
                      )}'>
                         <div class="media-stage">
                          <img alt="Live Rooms 1" />
                        </div>
                      </div>
                    `
                }
            },
        ];

        const testimonials=[ /* unchanged list */ 
            { quote:"I had the privilege of working with Sphoorthy... She helped us gain tremendous consumer insights and improved the velocity and prioritization of our product development roadmap.", author:"Gary S.", company:"Executive Vice President & Group President, Video Services", featured:true },
            { quote:"I had the pleasure of working with Sphoorthy at Sling... Her research was always thorough, actionable, and aligned with both user needs and business goals.", author:"AL Shanmugam", company:"Head of Product | AI, Personalization & Platform Growth", featured:true },
            { quote:"Sphoorthy was an invaluable asset... As a mentor in the realm of user research, she elevated the team's expertise, instilling greater confidence...", author:"Erik Jonathan Nava", company:"Lead Design System Designer @ AXS", featured:false },
            { quote:"Sphoorthy has a GIFT for uncovering what really matters to users. Her research is sharp, actionable, and always grounded in empathy.", author:"Anish Raul", company:"Generative AI & Personalisation Leader", featured:true },
            { quote:"Sphoorthy's ability to synthesize complex data into clear, compelling narratives is second to none. Her work was instrumental in shaping our product vision.", author:"Emily K.", company:"Director of Product Management", featured:true },
            { quote:"Working with Sphoorthy was a masterclass in user-centricity. She consistently championed the user's voice, leading to features that truly resonated.", author:"Michael B.", company:"Senior Product Designer", featured:false },
            { quote:"Her deep understanding of qualitative research methods helped us uncover hidden user needs that fundamentally changed our product roadmap.", author:"Sarah P.", company:"Research Lead", featured:false },
        ];

        /* ========== Netflix Theme JS ========== */

        function initNetflixTheme() {
            createHeroBillboard();
            // createHeroCarousel(); // REMOVED
            createProjectCarousels();
            createTestimonialScroller();
            initModalControls();
        }

        /** 1. Create Hero Billboard (Text + Static Image) */
        function createHeroBillboard() {
            const hero = document.getElementById('hero-billboard');
            const featuredProject = projects[0];
            if (!hero || !featuredProject) return;
            
            // UPDATED: Set static background image
            hero.style.backgroundImage = "url('images/Guide/7.png')";
            
            // Populate content
            const h2 = hero.querySelector('.hero-content h2');
            const p = hero.querySelector('.hero-content p');
            const btn = hero.querySelector('.hero-buttons .btn-primary');

            h2.textContent = featuredProject.title;
            p.textContent = featuredProject.hook;
            btn.dataset.projectId = featuredProject.id;
        }
        
        /** 2. REMOVED: Hero Image Carousel */

        /** 3. Create Project Carousels */
        function createProjectCarousels() {
            const container = document.getElementById('project-carousels-container');
            if (!container) return;

            const categories = [
                { title: "Case Studies", list: projects }
            ];

            let allCarouselsHtml = '';

            categories.forEach(cat => {
                // UPDATED: Uses project.images[0] which is now the correct tile image
                const cardsHtml = cat.list.map(project => `
                    <div class="project-card" style="background-image: url(${project.images[0]})" data-project-id="${project.id}" role="button" tabindex="0">
                        <div class="project-card-title">${project.title}</div>
                    </div>
                `).join('');

                allCarouselsHtml += `
                    <div class="project-carousel-row">
                        <h3 class="carousel-title">${cat.title}</h3>
                        <div class="project-track-container">
                            <div class="project-track">${cardsHtml}</div>
                            <button class="carousel-nav prev" aria-label="Previous">&#10094;</button>
                            <button class="carousel-nav next" aria-label="Next">&#10095;</button>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = allCarouselsHtml;
            initCarouselControls();
        }

        /** 4. Generic Carousel Controls */
        function initCarouselControls() {
            const allCarousels = document.querySelectorAll('.project-carousel-row');
            allCarousels.forEach(carousel => {
                const track = carousel.querySelector('.project-track');
                const prevBtn = carousel.querySelector('.carousel-nav.prev');
                const nextBtn = carousel.querySelector('.carousel-nav.next');
                
                if (!track || !prevBtn || !nextBtn || !track.firstElementChild) return; // Added check for first element

                const cardWidth = track.firstElementChild.offsetWidth;
                const scrollAmount = cardWidth * 2;

                prevBtn.addEventListener('click', () => {
                    track.scrollBy({ left: -scrollAmount, behavior: 'smooth' });
                });
                nextBtn.addEventListener('click', () => {
                    track.scrollBy({ left: scrollAmount, behavior: 'smooth' });
                });
            });
        }

        /** 5. Modal Logic */
        const modal = document.getElementById('project-modal');
        const modalBody = modal.querySelector('.modal-body');
        const modalTitle = modal.querySelector('.modal-header h3');
        const modalCloseBtn = modal.querySelector('.modal-close-btn');

        function openProjectModal(projectId) {
            const project = projects.find(p => p.id === projectId);
            if (!project) return;

            modalTitle.textContent = project.title;
            
            modalBody.innerHTML = `
                <div class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-8">
                    ${project.content.metrics.map(m=>`<div class="metric-card"><div class="metric-card-value">${m.value}</div><div class="metric-card-label">${m.label}</div></div>`).join('')}
                </div>
                <div class="details-tabs flex flex-wrap items-center gap-2 mb-6">
                    <button data-tab="overview" class="active">Overview</button>
                    <button data-tab="methodology">Methodology</button>
                    <button data-tab="analysis">Analysis</button>
                    <button data-tab="results">Results</button>
                    <button data-tab="media">Media</button>
                </div>
                <div class="tab-content active" data-tab-content="overview">${project.content.overview}</div>
                <div class="tab-content" data-tab-content="methodology">${project.content.methodology}</div>
                <div class="tab-content" data-tab-content="analysis">${project.content.analysis}</div>
                <div class="tab-content" data-tab-content="results">${project.content.results}</div>
                <div class="tab-content" data-tab-content="media">${project.content.media}</div>
            `;
            
            modal.classList.add('open');
            document.body.style.overflow = 'hidden';

            initModalTabs(modalBody);
            if (project.content.media && modalBody.querySelector('[data-tab-content="media"] .media-viewer')) {
                initMediaViewer(modalBody.querySelector('[data-tab-content="media"]'));
            }
        }

        function closeModal() {
            modal.classList.remove('open');
            document.body.style.overflow = 'auto';
            modalBody.innerHTML = '';
        }

        function initModalTabs(modalElement) {
            modalElement.addEventListener('click', (e) => {
                if (e.target.matches('.details-tabs button')) {
                    const tabId = e.target.dataset.tab;
                    const tabs = modalElement.querySelectorAll('.details-tabs button');
                    const contents = modalElement.querySelectorAll('.tab-content');
                    
                    tabs.forEach(btn => btn.classList.remove('active'));
                    e.target.classList.add('active');
                    
                    contents.forEach(c => {
                        c.classList.toggle('active', c.dataset.tabContent === tabId);
                    });
                }
            });
        }
        
        function initModalControls() {
            // Hero button
            document.querySelector('#hero-billboard .btn-primary').addEventListener('click', (e) => {
                openProjectModal(e.currentTarget.dataset.projectId);
            });

            // Project card clicks
            document.getElementById('project-carousels-container').addEventListener('click', (e) => {
                const card = e.target.closest('.project-card');
                if (card) {
                    openProjectModal(card.dataset.projectId);
                }
            });

            // Close button
            modalCloseBtn.addEventListener('click', closeModal);
            // Close on outside click
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    closeModal();
                }
            });
            // Close on 'Escape' key
            document.addEventListener('keydown', (e) => {
                if (e.key === 'Escape' && modal.classList.contains('open')) {
                    closeModal();
                }
            });
        }

        /** 6. Testimonial Scroller */
        function createTestimonialScroller(){
            const scroller=document.getElementById('testimonial-scroller');
            if(!scroller) return;
            const inner=document.createElement('div');
            inner.className='scroller-inner';
            const html=testimonials.map(t=>{
                const badge=t.featured?`<span class="absolute top-4 right-4 bg-red-500 text-white text-xs font-bold px-3 py-1 rounded-full" style="background-color: var(--color-primary);">Leadership</span>`:'';
                return `<div class="testimonial-card panel p-6 flex flex-col justify-center relative text-center h-full">${badge}<p class="text-base italic text-gray-300">"${t.quote}"</p><p class="font-semibold not-italic text-black mt-4">- ${t.author}</p><p class="text-sm text-gray-400">${t.company}</p></div>`;
            }).join('');
            inner.innerHTML=html+html;
            scroller.appendChild(inner);
        }

        /* ========== Lightbox Logic (for Media tab) ========== */
        function initMediaViewer(root){
            const wrap=root.querySelector('.media-viewer');
            if(!wrap) return;
            const mediaData = wrap.getAttribute('data-media');
            if (!mediaData) return;
            const images=JSON.parse(mediaData);
            
            const stageImg=wrap.querySelector('.media-stage img');
            const prevBtn=wrap.querySelector('.media-btn.prev');
            const nextBtn=wrap.querySelector('.media-btn.next');
            const capEl=wrap.querySelector('.media-caption');
            const curEl=wrap.querySelector('.media-pager .cur');
            const totalEl=wrap.querySelector('.media-pager .total');

            if (images.length === 0) {
                wrap.innerHTML = "<p>No media available for this project.</p>";
                return;
            }

            let idx=0;
            if(totalEl) totalEl.textContent=String(images.length);

            const setIndex=(i)=>{
                idx=Math.max(0,Math.min(images.length-1,i));
                if(stageImg) {
                    stageImg.src=images[idx];
                    stageImg.alt=`Guide ${idx+1}`;
                }
                if(capEl) capEl.textContent=`Guide ${idx+1}`;
                if(curEl) curEl.textContent=String(idx+1);
                if(prevBtn) prevBtn.disabled=(idx===0);
                if(nextBtn) nextBtn.disabled=(idx===images.length-1);
            };
            const goPrev=()=>setIndex(idx-1);
            const goNext=()=>setIndex(idx+1);

            if(prevBtn) prevBtn.addEventListener('click',goPrev);
            if(nextBtn) nextBtn.addEventListener('click',goNext);
            if(stageImg) stageImg.addEventListener('click',()=>openLightbox(images,idx,setIndex));

            setIndex(0);
        }

        let __lightbox;
        function ensureLightbox(){
            if(__lightbox) return __lightbox;
            const lb=document.createElement('div');
            lb.className='lightbox';
            lb.innerHTML=`
                <div class="lightbox-inner">
                    <div class="lightbox-stage">
                        <img alt="" />
                        <div class="lightbox-controls">
                            <button class="lightbox-btn prev" aria-label="Previous">&#10094;</button>
                            <button class="lightbox-btn next" aria-label="Next">&#10095;</button>
                        </div>
                    </div>
                    <div class="lightbox-topbar">
                        <div class="lb-caption">Guide 1</div>
                        <div class="lb-pager"><span class="cur">1</span> / <span class="total">16</span></div>
                        <button class="close" aria-label="Close">&times;</button>
                    </div>
                </div>`;
            document.body.appendChild(lb);
            __lightbox=lb; return lb;
        }
        function openLightbox(images,startIndex=0,syncParentIndex=null){
            const lb=ensureLightbox();
            const img=lb.querySelector('.lightbox-stage img');
            const prev=lb.querySelector('.lightbox-btn.prev');
            const next=lb.querySelector('.lightbox-btn.next');
            const closeBtn=lb.querySelector('.lightbox-topbar .close');
            const cap=lb.querySelector('.lb-caption');
            const cur=lb.querySelector('.lb-pager .cur');
            const tot=lb.querySelector('.lb-pager .total');
            tot.textContent=String(images.length);

            let i=startIndex;
            const setI=(n)=>{
                i=Math.max(0,Math.min(images.length-1,n));
                img.src=images[i];
                img.alt=`Guide ${i+1}`;
                cap.textContent=`Guide ${i+1}`;
                cur.textContent=String(i+1);
                prev.disabled=(i===0);
                next.disabled=(i===images.length-1);
                if(typeof syncParentIndex==='function') syncParentIndex(i);
            };
            const goPrev=()=>setI(i-1);
            const goNext=()=>setI(i+1);
            const onKey=(e)=>{
                if(e.key==='Escape') close();
                else if(e.key==='ArrowLeft') goPrev();
                else if(e.key==='ArrowRight') goNext();
            };
            const close=()=>{
                lb.classList.remove('open');
                document.removeEventListener('keydown',onKey);
            };
            prev.onclick=goPrev; next.onclick=goNext; closeBtn.onclick=close;
            lb.onclick=(e)=>{ if(e.target===lb) close(); };
            document.addEventListener('keydown',onKey);
            setI(startIndex);
            lb.classList.add('open');
        }

        /* ========== Kick it off ========== */
        initNetflixTheme();

    });
    </script>
</body>
</html>
